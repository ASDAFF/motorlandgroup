(function(e){var t={};function i(n){if(t[n]){return t[n].exports}var r=t[n]={i:n,l:false,exports:{}};e[n].call(r.exports,r,r.exports,i);r.l=true;return r.exports}i.m=e;i.c=t;i.i=function(e){return e};i.d=function(e,t,n){if(!i.o(e,t)){Object.defineProperty(e,t,{configurable:false,enumerable:true,get:n})}};i.n=function(e){var t=e&&e.__esModule?function n(){return e["default"]}:function r(){return e};i.d(t,"a",t);return t};i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};i.p="";return i(i.s=31)})([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.localized=t.animationStarted=t.normalizeWheelEventDelta=t.binarySearchFirstItem=t.watchScroll=t.scrollIntoView=t.getOutputScale=t.approximateFraction=t.roundToDivide=t.getVisibleElements=t.parseQueryString=t.noContextMenuHandler=t.getPDFFileNameFromURL=t.ProgressBar=t.EventBus=t.mozL10n=t.RendererType=t.cloneObj=t.VERTICAL_PADDING=t.SCROLLBAR_PADDING=t.MAX_AUTO_SCALE=t.UNKNOWN_SCALE=t.MAX_SCALE=t.MIN_SCALE=t.DEFAULT_SCALE=t.DEFAULT_SCALE_VALUE=t.CSS_UNITS=undefined;var n=i(1);var r=96/72;var a="auto";var s=1;var o=.25;var u=10;var l=0;var c=1.25;var d=40;var h=5;var f={CANVAS:"canvas",SVG:"svg"};var v=typeof document!=="undefined"?document.mozL10n||document.webL10n:undefined;n.PDFJS.disableFullscreen=n.PDFJS.disableFullscreen===undefined?false:n.PDFJS.disableFullscreen;n.PDFJS.useOnlyCssZoom=n.PDFJS.useOnlyCssZoom===undefined?false:n.PDFJS.useOnlyCssZoom;n.PDFJS.maxCanvasPixels=n.PDFJS.maxCanvasPixels===undefined?16777216:n.PDFJS.maxCanvasPixels;n.PDFJS.disableHistory=n.PDFJS.disableHistory===undefined?false:n.PDFJS.disableHistory;n.PDFJS.disableTextLayer=n.PDFJS.disableTextLayer===undefined?false:n.PDFJS.disableTextLayer;n.PDFJS.ignoreCurrentPositionOnZoom=n.PDFJS.ignoreCurrentPositionOnZoom===undefined?false:n.PDFJS.ignoreCurrentPositionOnZoom;{n.PDFJS.locale=n.PDFJS.locale===undefined&&typeof navigator!=="undefined"?navigator.language:n.PDFJS.locale}function g(e){var t=window.devicePixelRatio||1;var i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;var n=t/i;return{sx:n,sy:n,scaled:n!==1}}function p(e,t,i){var n=e.offsetParent;if(!n){return}var r=i||false;var a=e.offsetTop+e.clientTop;var s=e.offsetLeft+e.clientLeft;while(n.clientHeight===n.scrollHeight||r&&getComputedStyle(n).overflow==="hidden"){if(n.dataset._scaleY){a/=n.dataset._scaleY;s/=n.dataset._scaleX}a+=n.offsetTop;s+=n.offsetLeft;n=n.offsetParent;if(!n){return}}if(t){if(t.top!==undefined){a+=t.top}if(t.left!==undefined){s+=t.left;n.scrollLeft=s}}n.scrollTop=a}function m(e,t){var i=function a(i){if(r){return}r=window.requestAnimationFrame(function a(){r=null;var i=e.scrollTop;var a=n.lastY;if(i!==a){n.down=i>a}n.lastY=i;t(n)})};var n={down:true,lastY:e.scrollTop,_eventHandler:i};var r=null;e.addEventListener("scroll",i,true);return n}function w(e){var t=e.split("&");var i={};for(var n=0,r=t.length;n<r;++n){var a=t[n].split("=");var s=a[0].toLowerCase();var o=a.length>1?a[1]:null;i[decodeURIComponent(s)]=decodeURIComponent(o)}return i}function b(e,t){var i=0;var n=e.length-1;if(e.length===0||!t(e[n])){return e.length}if(t(e[i])){return i}while(i<n){var r=i+n>>1;var a=e[r];if(t(a)){n=r}else{i=r+1}}return i}function y(e){if(Math.floor(e)===e){return[e,1]}var t=1/e;var i=8;if(t>i){return[1,i]}else if(Math.floor(t)===t){return[1,t]}var n=e>1?t:e;var r=0,a=1,s=1,o=1;while(true){var u=r+s,l=a+o;if(l>i){break}if(n<=u/l){s=u;o=l}else{r=u;a=l}}var c;if(n-r/a<s/o-n){c=n===e?[r,a]:[a,r]}else{c=n===e?[s,o]:[o,s]}return c}function P(e,t){var i=e%t;return i===0?e:Math.round(e-i+t)}function S(e,t,i){var n=e.scrollTop,r=n+e.clientHeight;var a=e.scrollLeft,s=a+e.clientWidth;function o(e){var t=e.div;var i=t.offsetTop+t.clientTop+t.clientHeight;return i>n}var u=[],l,c;var d,h,f,v;var g,p;var m=t.length===0?0:b(t,o);for(var w=m,y=t.length;w<y;w++){l=t[w];c=l.div;d=c.offsetTop+c.clientTop;h=c.clientHeight;if(d>r){break}g=c.offsetLeft+c.clientLeft;p=c.clientWidth;if(g+p<a||g>s){continue}f=Math.max(0,n-d)+Math.max(0,d+h-r);v=(h-f)*100/h|0;u.push({id:l.id,x:g,y:d,view:l,percent:v})}var P=u[0];var S=u[u.length-1];if(i){u.sort(function(e,t){var i=e.percent-t.percent;if(Math.abs(i)>.001){return-i}return e.id-t.id})}return{first:P,last:S,views:u}}function L(e){e.preventDefault()}function _(e){var t=0,i=e.length;while(t<i&&e[t].trim()===""){t++}return e.substr(t,5).toLowerCase()==="data:"}function C(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"document.pdf";if(_(e)){console.warn("getPDFFileNameFromURL: "+'ignoring "data:" URL for performance reasons.');return t}var i=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/;var n=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i;var r=i.exec(e);var a=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(a){a=a[0];if(a.indexOf("%")!==-1){try{a=n.exec(decodeURIComponent(a))[0]}catch(s){}}}return a||t}function k(e){var t=Math.sqrt(e.deltaX*e.deltaX+e.deltaY*e.deltaY);var i=Math.atan2(e.deltaY,e.deltaX);if(-.25*Math.PI<i&&i<.75*Math.PI){t=-t}var n=0;var r=1;var a=30;var s=30;if(e.deltaMode===n){t/=a*s}else if(e.deltaMode===r){t/=s}return t}function I(e){var t={};for(var i in e){if(Object.prototype.hasOwnProperty.call(e,i)){t[i]=e[i]}}return t}var E=new Promise(function(e){window.requestAnimationFrame(e)});var T=new Promise(function(e,t){if(!v){e();return}if(v.getReadyState()!=="loading"){e();return}window.addEventListener("localized",function i(t){e()})});var B=function D(){function e(){this._listeners=Object.create(null)}e.prototype={on:function t(e,i){var n=this._listeners[e];if(!n){n=[];this._listeners[e]=n}n.push(i)},off:function i(e,t){var i=this._listeners[e];var n;if(!i||(n=i.indexOf(t))<0){return}i.splice(n,1)},dispatch:function n(e){var t=this._listeners[e];if(!t||t.length===0){return}var i=Array.prototype.slice.call(arguments,1);t.slice(0).forEach(function(e){e.apply(null,i)})}};return e}();var F=function x(){function e(e,t,i){return Math.min(Math.max(e,t),i)}function t(e,t){this.visible=true;this.div=document.querySelector(e+" .progress");this.bar=this.div.parentNode;this.height=t.height||100;this.width=t.width||100;this.units=t.units||"%";this.div.style.height=this.height+this.units;this.percent=0}t.prototype={updateBar:function i(){if(this._indeterminate){this.div.classList.add("indeterminate");this.div.style.width=this.width+this.units;return}this.div.classList.remove("indeterminate");var e=this.width*this._percent/100;this.div.style.width=e+this.units},get percent(){return this._percent},set percent(t){this._indeterminate=isNaN(t);this._percent=e(t,0,100);this.updateBar()},setWidth:function n(e){if(e){var t=e.parentNode;var i=t.offsetWidth-e.offsetWidth;if(i>0){this.bar.setAttribute("style","width: calc(100% - "+i+"px);")}}},hide:function r(){if(!this.visible){return}this.visible=false;this.bar.classList.add("hidden");document.body.classList.remove("loadingInProgress")},show:function a(){if(this.visible){return}this.visible=true;document.body.classList.add("loadingInProgress");this.bar.classList.remove("hidden")}};return t}();t.CSS_UNITS=r;t.DEFAULT_SCALE_VALUE=a;t.DEFAULT_SCALE=s;t.MIN_SCALE=o;t.MAX_SCALE=u;t.UNKNOWN_SCALE=l;t.MAX_AUTO_SCALE=c;t.SCROLLBAR_PADDING=d;t.VERTICAL_PADDING=h;t.cloneObj=I;t.RendererType=f;t.mozL10n=v;t.EventBus=B;t.ProgressBar=F;t.getPDFFileNameFromURL=C;t.noContextMenuHandler=L;t.parseQueryString=w;t.getVisibleElements=S;t.roundToDivide=P;t.approximateFraction=y;t.getOutputScale=g;t.scrollIntoView=p;t.watchScroll=m;t.binarySearchFirstItem=b;t.normalizeWheelEventDelta=k;t.animationStarted=E;t.localized=T},function(e,t,i){"use strict";{var n;if(typeof __pdfjsdev_webpack__==="undefined"){if(typeof window!=="undefined"&&window["pdfjs-dist/build/pdf"]){n=window["pdfjs-dist/build/pdf"]}else if(typeof require==="function"){n=require("../build/pdf.js")}else{throw new Error("Neither `require` nor `window` found")}}e.exports=n}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getGlobalEventBus=t.attachDOMEventsToEventBus=undefined;var n=i(0);function r(e){e.on("documentload",function(){var e=document.createEvent("CustomEvent");e.initCustomEvent("documentload",true,true,{});window.dispatchEvent(e)});e.on("pagerendered",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("pagerendered",true,true,{pageNumber:e.pageNumber,cssTransform:e.cssTransform});e.source.div.dispatchEvent(t)});e.on("textlayerrendered",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("textlayerrendered",true,true,{pageNumber:e.pageNumber});e.source.textLayerDiv.dispatchEvent(t)});e.on("pagechange",function(e){var t=document.createEvent("UIEvents");t.initUIEvent("pagechange",true,true,window,0);t.pageNumber=e.pageNumber;e.source.container.dispatchEvent(t)});e.on("pagesinit",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("pagesinit",true,true,null);e.source.container.dispatchEvent(t)});e.on("pagesloaded",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("pagesloaded",true,true,{pagesCount:e.pagesCount});e.source.container.dispatchEvent(t)});e.on("scalechange",function(e){var t=document.createEvent("UIEvents");t.initUIEvent("scalechange",true,true,window,0);t.scale=e.scale;t.presetValue=e.presetValue;e.source.container.dispatchEvent(t)});e.on("updateviewarea",function(e){var t=document.createEvent("UIEvents");t.initUIEvent("updateviewarea",true,true,window,0);t.location=e.location;e.source.container.dispatchEvent(t)});e.on("find",function(e){if(e.source===window){return}var t=document.createEvent("CustomEvent");t.initCustomEvent("find"+e.type,true,true,{query:e.query,phraseSearch:e.phraseSearch,caseSensitive:e.caseSensitive,highlightAll:e.highlightAll,findPrevious:e.findPrevious});window.dispatchEvent(t)});e.on("attachmentsloaded",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("attachmentsloaded",true,true,{attachmentsCount:e.attachmentsCount});e.source.container.dispatchEvent(t)});e.on("sidebarviewchanged",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("sidebarviewchanged",true,true,{view:e.view});e.source.outerContainer.dispatchEvent(t)});e.on("pagemode",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("pagemode",true,true,{mode:e.mode});e.source.pdfViewer.container.dispatchEvent(t)});e.on("namedaction",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("namedaction",true,true,{action:e.action});e.source.pdfViewer.container.dispatchEvent(t)});e.on("presentationmodechanged",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("presentationmodechanged",true,true,{active:e.active,switchInProgress:e.switchInProgress});window.dispatchEvent(t)});e.on("outlineloaded",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("outlineloaded",true,true,{outlineCount:e.outlineCount});e.source.container.dispatchEvent(t)})}var a=null;function s(){if(a){return a}a=new n.EventBus;r(a);return a}t.attachDOMEventsToEventBus=r;t.getGlobalEventBus=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();function r(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=3e4;var s={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};var o=function(){function e(){r(this,e);this.pdfViewer=null;this.pdfThumbnailViewer=null;this.onIdle=null;this.highestPriorityPage=null;this.idleTimeout=null;this.printing=false;this.isThumbnailViewEnabled=false}n(e,[{key:"setViewer",value:function t(e){this.pdfViewer=e}},{key:"setThumbnailViewer",value:function i(e){this.pdfThumbnailViewer=e}},{key:"isHighestPriority",value:function o(e){return this.highestPriorityPage===e.renderingId}},{key:"renderHighestPriority",value:function u(e){if(this.idleTimeout){clearTimeout(this.idleTimeout);this.idleTimeout=null}if(this.pdfViewer.forceRendering(e)){return}if(this.pdfThumbnailViewer&&this.isThumbnailViewEnabled){if(this.pdfThumbnailViewer.forceRendering()){return}}if(this.printing){return}if(this.onIdle){this.idleTimeout=setTimeout(this.onIdle.bind(this),a)}}},{key:"getHighestPriority",value:function l(e,t,i){var n=e.views;var r=n.length;if(r===0){return false}for(var a=0;a<r;++a){var s=n[a].view;if(!this.isViewFinished(s)){return s}}if(i){var o=e.last.id;if(t[o]&&!this.isViewFinished(t[o])){return t[o]}}else{var u=e.first.id-2;if(t[u]&&!this.isViewFinished(t[u])){return t[u]}}return null}},{key:"isViewFinished",value:function c(e){return e.renderingState===s.FINISHED}},{key:"renderView",value:function d(e){var t=this;switch(e.renderingState){case s.FINISHED:return false;case s.PAUSED:this.highestPriorityPage=e.renderingId;e.resume();break;case s.RUNNING:this.highestPriorityPage=e.renderingId;break;case s.INITIAL:this.highestPriorityPage=e.renderingId;var i=function n(){t.renderHighestPriority()};e.draw().then(i,i);break}return true}}]);return e}();t.RenderingStates=s;t.PDFRenderingQueue=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n={overlays:{},active:null,register:function r(e,t,i,n){var r=this;return new Promise(function(a){var s;if(!e||!t||!(s=t.parentNode)){throw new Error("Not enough parameters.")}else if(r.overlays[e]){throw new Error("The overlay is already registered.")}r.overlays[e]={element:t,container:s,callerCloseMethod:i||null,canForceClose:n||false};a()})},unregister:function a(e){var t=this;return new Promise(function(i){if(!t.overlays[e]){throw new Error("The overlay does not exist.")}else if(t.active===e){throw new Error("The overlay cannot be removed while it is active.")}delete t.overlays[e];i()})},open:function s(e){var t=this;return new Promise(function(i){if(!t.overlays[e]){throw new Error("The overlay does not exist.")}else if(t.active){if(t.overlays[e].canForceClose){t._closeThroughCaller()}else if(t.active===e){throw new Error("The overlay is already active.")}else{throw new Error("Another overlay is currently active.")}}t.active=e;t.overlays[t.active].element.classList.remove("hidden");t.overlays[t.active].container.classList.remove("hidden");window.addEventListener("keydown",t._keyDown);i()})},close:function o(e){var t=this;return new Promise(function(i){if(!t.overlays[e]){throw new Error("The overlay does not exist.")}else if(!t.active){throw new Error("The overlay is currently not active.")}else if(t.active!==e){throw new Error("Another overlay is currently active.")}t.overlays[t.active].container.classList.add("hidden");t.overlays[t.active].element.classList.add("hidden");t.active=null;window.removeEventListener("keydown",t._keyDown);i()})},_keyDown:function u(e){var t=n;if(t.active&&e.keyCode===27){t._closeThroughCaller();e.preventDefault()}},_closeThroughCaller:function l(){if(this.overlays[this.active].callerCloseMethod){this.overlays[this.active].callerCloseMethod()}if(this.active){this.close(this.active)}}};t.OverlayManager=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFPrintServiceFactory=t.DefaultExternalServices=t.PDFViewerApplication=undefined;var n=i(0);var r=i(1);var a=i(3);var s=i(22);var o=i(25);var u=i(2);var l=i(13);var c=i(4);var d=i(14);var h=i(15);var f=i(16);var v=i(17);var g=i(7);var p=i(18);var m=i(6);var w=i(19);var b=i(21);var y=i(24);var P=i(27);var S=i(29);var L=i(30);var _=1.1;var C=5e3;function k(e){e.imageResourcesPath="./images/";e.workerSrc=window.pdfJsPathToWorker;e.cMapUrl="../web/cmaps/";e.cMapPacked=true}var I={updateFindControlState:function ge(e){},initPassiveLoading:function pe(e){},fallback:function me(e,t){},reportTelemetry:function we(e){},createDownloadManager:function be(){throw new Error("Not implemented: createDownloadManager")},createPreferences:function ye(){throw new Error("Not implemented: createPreferences")},supportsIntegratedFind:false,supportsDocumentFonts:true,supportsDocumentColors:true,supportedMouseWheelZoomModifierKeys:{ctrlKey:true,metaKey:true}};var E={initialBookmark:document.location.hash.substring(1),initialDestination:null,initialized:false,fellback:false,appConfig:null,pdfDocument:null,pdfLoadingTask:null,printService:null,pdfViewer:null,pdfThumbnailViewer:null,pdfRenderingQueue:null,pdfPresentationMode:null,pdfDocumentProperties:null,pdfLinkService:null,pdfHistory:null,pdfSidebar:null,pdfOutlineViewer:null,pdfAttachmentViewer:null,store:null,downloadManager:null,preferences:null,toolbar:null,secondaryToolbar:null,eventBus:null,pageRotation:0,isInitialViewSet:false,viewerPrefs:{sidebarViewOnLoad:s.SidebarView.NONE,pdfBugEnabled:false,showPreviousViewOnLoad:true,defaultZoomValue:"",disablePageLabels:false,renderer:"canvas",enhanceTextSelection:false,renderInteractiveForms:false,enablePrintAutoRotate:false},isViewerEmbedded:window.parent!==window,url:"",baseUrl:"",externalServices:I,initialize:function Pe(e){var t=this;this.preferences=this.externalServices.createPreferences();k(r.PDFJS);this.appConfig=e;return this._readPreferences().then(function(){return t._initializeViewerComponents()}).then(function(){t.bindEvents();t.bindWindowEvents();n.localized.then(function(){t.eventBus.dispatch("localized")});if(t.isViewerEmbedded&&!r.PDFJS.isExternalLinkTargetSet()){r.PDFJS.externalLinkTarget=r.PDFJS.LinkTarget.TOP}t.initialized=true})},_readPreferences:function Se(){var e=this.preferences,t=this.viewerPrefs;return Promise.all([e.get("enableWebGL").then(function i(e){r.PDFJS.disableWebGL=!e}),e.get("sidebarViewOnLoad").then(function n(e){t["sidebarViewOnLoad"]=e}),e.get("pdfBugEnabled").then(function a(e){t["pdfBugEnabled"]=e}),e.get("showPreviousViewOnLoad").then(function s(e){t["showPreviousViewOnLoad"]=e}),e.get("defaultZoomValue").then(function o(e){t["defaultZoomValue"]=e}),e.get("enhanceTextSelection").then(function u(e){t["enhanceTextSelection"]=e}),e.get("disableTextLayer").then(function l(e){if(r.PDFJS.disableTextLayer===true){return}r.PDFJS.disableTextLayer=e}),e.get("disableRange").then(function c(e){if(r.PDFJS.disableRange===true){return}r.PDFJS.disableRange=e}),e.get("disableStream").then(function d(e){if(r.PDFJS.disableStream===true){return}r.PDFJS.disableStream=e}),e.get("disableAutoFetch").then(function h(e){r.PDFJS.disableAutoFetch=e}),e.get("disableFontFace").then(function f(e){if(r.PDFJS.disableFontFace===true){return}r.PDFJS.disableFontFace=e}),e.get("useOnlyCssZoom").then(function v(e){r.PDFJS.useOnlyCssZoom=e}),e.get("externalLinkTarget").then(function g(e){if(r.PDFJS.isExternalLinkTargetSet()){return}r.PDFJS.externalLinkTarget=e}),e.get("renderer").then(function p(e){t["renderer"]=e}),e.get("renderInteractiveForms").then(function m(e){t["renderInteractiveForms"]=e}),e.get("disablePageLabels").then(function w(e){t["disablePageLabels"]=e}),e.get("enablePrintAutoRotate").then(function b(e){t["enablePrintAutoRotate"]=e})]).catch(function(e){})},_initializeViewerComponents:function Le(){var e=this;var t=this.appConfig;return new Promise(function(i,n){var r=t.eventBus||(0,u.getGlobalEventBus)();e.eventBus=r;var L=new a.PDFRenderingQueue;L.onIdle=e.cleanup.bind(e);e.pdfRenderingQueue=L;var _=new m.PDFLinkService({eventBus:r});e.pdfLinkService=_;var C=e.externalServices.createDownloadManager();e.downloadManager=C;var k=t.mainContainer;var I=t.viewerContainer;e.pdfViewer=new o.PDFViewer({container:k,viewer:I,eventBus:r,renderingQueue:L,linkService:_,downloadManager:C,renderer:e.viewerPrefs["renderer"],enhanceTextSelection:e.viewerPrefs["enhanceTextSelection"],renderInteractiveForms:e.viewerPrefs["renderInteractiveForms"],enablePrintAutoRotate:e.viewerPrefs["enablePrintAutoRotate"]});L.setViewer(e.pdfViewer);_.setViewer(e.pdfViewer);var E=t.sidebar.thumbnailView;e.pdfThumbnailViewer=new y.PDFThumbnailViewer({container:E,renderingQueue:L,linkService:_});L.setThumbnailViewer(e.pdfThumbnailViewer);e.pdfHistory=new p.PDFHistory({linkService:_,eventBus:r});_.setHistory(e.pdfHistory);e.findController=new g.PDFFindController({pdfViewer:e.pdfViewer});e.findController.onUpdateResultsCount=function(t){if(e.supportsIntegratedFind){return}e.findBar.updateResultsCount(t)};e.findController.onUpdateState=function(t,i,n){if(e.supportsIntegratedFind){e.externalServices.updateFindControlState({result:t,findPrevious:i})}else{e.findBar.updateUIState(t,i,n)}};e.pdfViewer.setFindController(e.findController);var T=Object.create(t.findBar);T.findController=e.findController;T.eventBus=r;e.findBar=new v.PDFFindBar(T);e.overlayManager=c.OverlayManager;e.handTool=new l.HandTool({container:k,eventBus:r,preferences:e.preferences});e.pdfDocumentProperties=new f.PDFDocumentProperties(t.documentProperties);e.toolbar=new S.Toolbar(t.toolbar,k,r);e.secondaryToolbar=new P.SecondaryToolbar(t.secondaryToolbar,k,r);if(e.supportsFullscreen){e.pdfPresentationMode=new b.PDFPresentationMode({container:k,viewer:I,pdfViewer:e.pdfViewer,eventBus:r,contextMenuItems:t.fullscreen})}e.passwordPrompt=new d.PasswordPrompt(t.passwordOverlay);e.pdfOutlineViewer=new w.PDFOutlineViewer({container:t.sidebar.outlineView,eventBus:r,linkService:_});e.pdfAttachmentViewer=new h.PDFAttachmentViewer({container:t.sidebar.attachmentsView,eventBus:r,downloadManager:C});var B=Object.create(t.sidebar);B.pdfViewer=e.pdfViewer;B.pdfThumbnailViewer=e.pdfThumbnailViewer;B.pdfOutlineViewer=e.pdfOutlineViewer;B.eventBus=r;e.pdfSidebar=new s.PDFSidebar(B);e.pdfSidebar.onToggled=e.forceRendering.bind(e);i(undefined)})},run:function _e(e){this.initialize(e).then(D)},zoomIn:function Ce(e){var t=this.pdfViewer.currentScale;do{t=(t*_).toFixed(2);t=Math.ceil(t*10)/10;t=Math.min(n.MAX_SCALE,t)}while(--e>0&&t<n.MAX_SCALE);this.pdfViewer.currentScaleValue=t},zoomOut:function ke(e){var t=this.pdfViewer.currentScale;do{t=(t/_).toFixed(2);t=Math.floor(t*10)/10;t=Math.max(n.MIN_SCALE,t)}while(--e>0&&t>n.MIN_SCALE);this.pdfViewer.currentScaleValue=t},get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0},set page(e){this.pdfViewer.currentPageNumber=e},get page(){return this.pdfViewer.currentPageNumber},get printing(){return!!this.printService},get supportsPrinting(){return ve.instance.supportsPrinting},get supportsFullscreen(){var e;var t=document.documentElement;e=!!(t.requestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullScreen||t.msRequestFullscreen);if(document.fullscreenEnabled===false||document.mozFullScreenEnabled===false||document.webkitFullscreenEnabled===false||document.msFullscreenEnabled===false){e=false}if(e&&r.PDFJS.disableFullscreen===true){e=false}return(0,r.shadow)(this,"supportsFullscreen",e)},get supportsIntegratedFind(){return this.externalServices.supportsIntegratedFind},get supportsDocumentFonts(){return this.externalServices.supportsDocumentFonts},get supportsDocumentColors(){return this.externalServices.supportsDocumentColors},get loadingBar(){var e=new n.ProgressBar("#loadingBar"+window.pdfJsViewerId,{});return(0,r.shadow)(this,"loadingBar",e)},get supportedMouseWheelZoomModifierKeys(){return this.externalServices.supportedMouseWheelZoomModifierKeys},initPassiveLoading:function Ie(){throw new Error("Not implemented: initPassiveLoading")},setTitleUsingUrl:function Ee(e){this.url=e;this.baseUrl=e.split("#")[0];var t=(0,n.getPDFFileNameFromURL)(e,"");if(!t){try{t=decodeURIComponent((0,r.getFilenameFromUrl)(e))||e}catch(i){t=e}}this.setTitle(t)},setTitle:function Te(e){return},close:function Be(){var e=this.appConfig.errorWrapper.container;e.setAttribute("hidden","true");if(!this.pdfLoadingTask){return Promise.resolve()}var t=this.pdfLoadingTask.destroy();this.pdfLoadingTask=null;if(this.pdfDocument){this.pdfDocument=null;this.pdfThumbnailViewer.setDocument(null);this.pdfViewer.setDocument(null);this.pdfLinkService.setDocument(null,null);this.pdfDocumentProperties.setDocument(null,null)}this.store=null;this.isInitialViewSet=false;this.pdfSidebar.reset();this.pdfOutlineViewer.reset();this.pdfAttachmentViewer.reset();this.findController.reset();this.findBar.reset();this.toolbar.reset();this.secondaryToolbar.reset();if(typeof PDFBug!=="undefined"){PDFBug.cleanup()}return t},open:function Fe(e,t){var i=this;if(arguments.length>2||typeof t==="number"){return Promise.reject(new Error("Call of open() with obsolete signature."))}if(this.pdfLoadingTask){return this.close().then(function(){i.preferences.reload();return i.open(e,t)})}var a=Object.create(null),s=void 0;if(typeof e==="string"){this.setTitleUsingUrl(e);a.url=e}else if(e&&"byteLength"in e){a.data=e}else if(e.url&&e.originalUrl){this.setTitleUsingUrl(e.originalUrl);a.url=e.url}if(t){for(var o in t){a[o]=t[o]}if(t.scale){s=t.scale}if(t.length){this.pdfDocumentProperties.setFileSize(t.length)}}this.downloadComplete=false;var u=(0,r.getDocument)(a);this.pdfLoadingTask=u;u.onPassword=function(e,t){i.passwordPrompt.setUpdateCallback(e,t);i.passwordPrompt.open()};u.onProgress=function(e){var t=e.loaded,n=e.total;i.progress(t/n)};u.onUnsupportedFeature=this.fallback.bind(this);return u.promise.then(function(e){i.load(e,s)},function(e){var t=e&&e.message;var a=n.mozL10n.get("loading_error",null,"An error occurred while loading the PDF.");if(e instanceof r.InvalidPDFException){a=n.mozL10n.get("invalid_file_error",null,"Invalid or corrupted PDF file.")}else if(e instanceof r.MissingPDFException){a=n.mozL10n.get("missing_file_error",null,"Missing PDF file.")}else if(e instanceof r.UnexpectedResponseException){a=n.mozL10n.get("unexpected_response_error",null,"Unexpected server response.")}i.error(a,{message:t});throw new Error(a)})},download:function De(){function e(){a.downloadUrl(t,i)}var t=this.baseUrl;var i=(0,n.getPDFFileNameFromURL)(this.url);var a=this.downloadManager;a.onerror=function(e){E.error("PDF failed to download.")};if(!this.pdfDocument){e();return}if(!this.downloadComplete){e();return}this.pdfDocument.getData().then(function s(e){var n=(0,r.createBlob)(e,"application/pdf");a.download(n,t,i)},e).then(null,e)},fallback:function xe(e){},error:function Ve(e,t){var i=n.mozL10n.get("error_version_info",{version:r.version||"?",build:r.build||"?"},"PDF.js v{{version}} (build: {{build}})")+"\n";if(t){i+=n.mozL10n.get("error_message",{message:t.message},"Message: {{message}}");if(t.stack){i+="\n"+n.mozL10n.get("error_stack",{stack:t.stack},"Stack: {{stack}}")}else{if(t.filename){i+="\n"+n.mozL10n.get("error_file",{file:t.filename},"File: {{file}}")}if(t.lineNumber){i+="\n"+n.mozL10n.get("error_line",{line:t.lineNumber},"Line: {{line}}")}}}var a=this.appConfig.errorWrapper;var s=a.container;s.removeAttribute("hidden");var o=a.errorMessage;o.textContent=e;var u=a.closeButton;u.onclick=function(){s.setAttribute("hidden","true")};var l=a.errorMoreInfo;var c=a.moreInfoButton;var d=a.lessInfoButton;c.onclick=function(){l.removeAttribute("hidden");c.setAttribute("hidden","true");d.removeAttribute("hidden");l.style.height=l.scrollHeight+"px"};d.onclick=function(){l.setAttribute("hidden","true");c.removeAttribute("hidden");d.setAttribute("hidden","true")};c.oncontextmenu=n.noContextMenuHandler;d.oncontextmenu=n.noContextMenuHandler;u.oncontextmenu=n.noContextMenuHandler;c.removeAttribute("hidden");d.setAttribute("hidden","true");l.value=i},progress:function Ne(e){var t=this;var i=Math.round(e*100);if(i>this.loadingBar.percent||isNaN(i)){this.loadingBar.percent=i;if(r.PDFJS.disableAutoFetch&&i){if(this.disableAutoFetchLoadingBarTimeout){clearTimeout(this.disableAutoFetchLoadingBarTimeout);this.disableAutoFetchLoadingBarTimeout=null}this.loadingBar.show();this.disableAutoFetchLoadingBarTimeout=setTimeout(function(){t.loadingBar.hide();t.disableAutoFetchLoadingBarTimeout=null},C)}}},load:function Oe(e,t){var i=this;t=t||n.UNKNOWN_SCALE;this.pdfDocument=e;e.getDownloadInfo().then(function(){i.downloadComplete=true;i.loadingBar.hide();c.then(function(){i.eventBus.dispatch("documentload",{source:i})})});this.toolbar.setPagesCount(e.numPages,false);this.secondaryToolbar.setPagesCount(e.numPages);var a=this.documentFingerprint=e.fingerprint;var o=this.store=new L.ViewHistory(a);var u=void 0;u=null;this.pdfLinkService.setDocument(e,u);this.pdfDocumentProperties.setDocument(e,this.url);var l=this.pdfViewer;l.currentScale=t;l.setDocument(e);var c=l.firstPagePromise;var d=l.pagesPromise;var h=l.onePageRendered;this.pageRotation=0;var f=this.pdfThumbnailViewer;f.setDocument(e);c.then(function(e){i.loadingBar.setWidth(i.appConfig.viewerContainer);if(!r.PDFJS.disableHistory&&!i.isViewerEmbedded){if(!i.viewerPrefs["showPreviousViewOnLoad"]){i.pdfHistory.clearHistoryState()}i.pdfHistory.initialize(i.documentFingerprint);if(i.pdfHistory.initialDestination){i.initialDestination=i.pdfHistory.initialDestination}else if(i.pdfHistory.initialBookmark){i.initialBookmark=i.pdfHistory.initialBookmark}}var a={destination:i.initialDestination,bookmark:i.initialBookmark,hash:null};var u=i.viewerPrefs["defaultZoomValue"]?"zoom="+i.viewerPrefs["defaultZoomValue"]:null;var l=i.viewerPrefs["sidebarViewOnLoad"];new Promise(function(e,t){if(!i.viewerPrefs["showPreviousViewOnLoad"]){e();return}o.getMultiple({exists:false,page:"1",zoom:n.DEFAULT_SCALE_VALUE,scrollLeft:"0",scrollTop:"0",sidebarView:s.SidebarView.NONE}).then(function(t){if(!t.exists){e();return}u="page="+t.page+"&zoom="+(i.viewerPrefs["defaultZoomValue"]||t.zoom)+","+t.scrollLeft+","+t.scrollTop;l=i.viewerPrefs["sidebarViewOnLoad"]||t.sidebarView|0;e()}).catch(function(){e()})}).then(function(){i.setInitialView(u,{sidebarView:l,scale:t});a.hash=u;if(!i.isViewerEmbedded){i.pdfViewer.focus()}return d}).then(function(){if(!a.destination&&!a.bookmark&&!a.hash){return}if(i.hasEqualPageSizes){return}i.initialDestination=a.destination;i.initialBookmark=a.bookmark;i.pdfViewer.currentScaleValue=i.pdfViewer.currentScaleValue;i.setInitialView(a.hash)})});e.getPageLabels().then(function(t){if(!t||i.viewerPrefs["disablePageLabels"]){return}var n=0,r=t.length;if(r!==i.pagesCount){console.error("The number of Page Labels does not match "+"the number of pages in the document.");return}while(n<r&&t[n]===(n+1).toString()){n++}if(n===r){return}l.setPageLabels(t);f.setPageLabels(t);i.toolbar.setPagesCount(e.numPages,true);i.toolbar.setPageNumber(l.currentPageNumber,l.currentPageLabel)});d.then(function(){if(!i.supportsPrinting){return}e.getJavaScript().then(function(e){if(e.length){console.warn("Warning: JavaScript is not supported");i.fallback(r.UNSUPPORTED_FEATURES.javaScript)}var t=/\bprint\s*\(/;for(var n=0,a=e.length;n<a;n++){var s=e[n];if(s&&t.test(s)){setTimeout(function(){window.print()});return}}})});Promise.all([h,n.animationStarted]).then(function(){e.getOutline().then(function(e){i.pdfOutlineViewer.render({outline:e})});e.getAttachments().then(function(e){i.pdfAttachmentViewer.render({attachments:e})})});e.getMetadata().then(function(e){var t=e.info,n=e.metadata;i.documentInfo=t;i.metadata=n;var a=void 0;if(n&&n.has("dc:title")){var s=n.get("dc:title");if(s!=="Untitled"){a=s}}if(!a&&t&&t["Title"]){a=t["Title"]}if(a){i.setTitle(a+" - "+document.title)}if(t.IsAcroFormPresent){console.warn("Warning: AcroForm/XFA is not supported");i.fallback(r.UNSUPPORTED_FEATURES.forms)}})},setInitialView:function Me(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=t.scale,r=i===undefined?0:i,a=t.sidebarView,o=a===undefined?s.SidebarView.NONE:a;this.isInitialViewSet=true;this.pdfSidebar.setInitialView(o);if(this.initialDestination){this.pdfLinkService.navigateTo(this.initialDestination);this.initialDestination=null}else if(this.initialBookmark){this.pdfLinkService.setHash(this.initialBookmark);this.pdfHistory.push({hash:this.initialBookmark},true);this.initialBookmark=null}else if(e){this.pdfLinkService.setHash(e)}else if(r){this.pdfViewer.currentScaleValue=r;this.page=1}this.toolbar.setPageNumber(this.pdfViewer.currentPageNumber,this.pdfViewer.currentPageLabel);

this.secondaryToolbar.setPageNumber(this.pdfViewer.currentPageNumber);if(!this.pdfViewer.currentScaleValue){this.pdfViewer.currentScaleValue=n.DEFAULT_SCALE_VALUE}},cleanup:function Ae(){if(!this.pdfDocument){return}this.pdfViewer.cleanup();this.pdfThumbnailViewer.cleanup();if(this.pdfViewer.renderer!==n.RendererType.SVG){this.pdfDocument.cleanup()}},forceRendering:function Re(){this.pdfRenderingQueue.printing=this.printing;this.pdfRenderingQueue.isThumbnailViewEnabled=this.pdfSidebar.isThumbnailViewVisible;this.pdfRenderingQueue.renderHighestPriority()},beforePrint:function Ue(){if(this.printService){return}if(!this.supportsPrinting){var e=n.mozL10n.get("printing_not_supported",null,"Warning: Printing is not fully supported by this browser.");this.error(e);return}if(!this.pdfViewer.pageViewsReady){var t=n.mozL10n.get("printing_not_ready",null,"Warning: The PDF is not fully loaded for printing.");window.alert(t);return}var i=this.pdfViewer.getPagesOverview();var r=this.appConfig.printContainer;var a=ve.instance.createPrintService(this.pdfDocument,i,r);this.printService=a;this.forceRendering();a.layout()},get hasEqualPageSizes(){var e=this.pdfViewer.getPageView(0);for(var t=1,i=this.pagesCount;t<i;++t){var n=this.pdfViewer.getPageView(t);if(n.width!==e.width||n.height!==e.height){return false}}return true},afterPrint:function je(){if(this.printService){this.printService.destroy();this.printService=null}this.forceRendering()},rotatePages:function He(e){var t=this.page;this.pageRotation=(this.pageRotation+360+e)%360;this.pdfViewer.pagesRotation=this.pageRotation;this.pdfThumbnailViewer.pagesRotation=this.pageRotation;this.forceRendering();this.pdfViewer.currentPageNumber=t},requestPresentationMode:function ze(){if(!this.pdfPresentationMode){return}this.pdfPresentationMode.request()},bindEvents:function Je(){var e=this.eventBus;e.on("resize",j);e.on("hashchange",H);e.on("beforeprint",this.beforePrint.bind(this));e.on("afterprint",this.afterPrint.bind(this));e.on("pagerendered",V);e.on("textlayerrendered",N);e.on("updateviewarea",U);e.on("pagechanging",ue);e.on("scalechanging",oe);e.on("sidebarviewchanged",R);e.on("pagemode",O);e.on("namedaction",M);e.on("presentationmodechanged",A);e.on("presentationmode",J);e.on("openfile",W);e.on("print",q);e.on("download",G);e.on("firstpage",Q);e.on("lastpage",K);e.on("nextpage",X);e.on("previouspage",Z);e.on("zoomin",Y);e.on("zoomout",$);e.on("pagenumberchanged",ee);e.on("scalechanged",te);e.on("rotatecw",ie);e.on("rotateccw",ne);e.on("find",ae);e.on("findfromurlhash",se);e.on("fileinputchange",z);if(!this.documentPropertiesBinded||this.documentPropertiesBinded!==true){e.on("documentproperties",re);this.documentPropertiesBinded=true}},bindWindowEvents:function We(){var e=this.eventBus;window.addEventListener("wheel",de);window.addEventListener("click",he);window.addEventListener("keydown",fe);window.addEventListener("resize",function t(){e.dispatch("resize")});window.addEventListener("hashchange",function i(){e.dispatch("hashchange",{hash:document.location.hash.substring(1)})});window.addEventListener("beforeprint",function n(){e.dispatch("beforeprint")});window.addEventListener("afterprint",function r(){e.dispatch("afterprint")});window.addEventListener("change",function a(t){var i=t.target.files;if(!i||i.length===0){return}e.dispatch("fileinputchange",{fileInput:t.target})})}};var T;{var B=["null"];T=function qe(e){try{var t=new URL(window.location.href).origin||"null";if(B.indexOf(t)>=0){return}var i=new URL(e,window.location.href).origin;if(i!==t){throw new Error("file origin does not match viewer's")}}catch(r){var a=r&&r.message;var s=n.mozL10n.get("loading_error",null,"An error occurred while loading the PDF.");var o={message:a};E.error(s,o);throw r}}}function F(e){return new Promise(function(t,i){var n=E.appConfig;var a=document.createElement("script");a.src=n.debuggerScriptPath;a.onload=function(){PDFBug.enable(e);PDFBug.init({PDFJS:r.PDFJS,OPS:r.OPS},n.mainContainer);t()};a.onerror=function(){i(new Error("Cannot load debugger at "+a.src))};(document.getElementsByTagName("head")[0]||document.body).appendChild(a)})}function D(){var e=E.appConfig;var t;var i=document.location.search.substring(1);var a=[];t="file"in a?a.file:e.defaultUrl;T(t);var s=[];e.toolbar.openFile.setAttribute("hidden","true");e.secondaryToolbar.openFileButton.setAttribute("hidden","true");if(E.viewerPrefs["pdfBugEnabled"]){var o=document.location.hash.substring(1);var u=(0,n.parseQueryString)(o);if("disableworker"in u){r.PDFJS.disableWorker=u["disableworker"]==="true"}if("disablerange"in u){r.PDFJS.disableRange=u["disablerange"]==="true"}if("disablestream"in u){r.PDFJS.disableStream=u["disablestream"]==="true"}if("disableautofetch"in u){r.PDFJS.disableAutoFetch=u["disableautofetch"]==="true"}if("disablefontface"in u){r.PDFJS.disableFontFace=u["disablefontface"]==="true"}if("disablehistory"in u){r.PDFJS.disableHistory=u["disablehistory"]==="true"}if("webgl"in u){r.PDFJS.disableWebGL=u["webgl"]!=="true"}if("useonlycsszoom"in u){r.PDFJS.useOnlyCssZoom=u["useonlycsszoom"]==="true"}if("verbosity"in u){r.PDFJS.verbosity=u["verbosity"]|0}if("ignorecurrentpositiononzoom"in u){r.PDFJS.ignoreCurrentPositionOnZoom=u["ignorecurrentpositiononzoom"]==="true"}if("locale"in u){r.PDFJS.locale=u["locale"]}if("textlayer"in u){switch(u["textlayer"]){case"off":r.PDFJS.disableTextLayer=true;break;case"visible":case"shadow":case"hover":var l=e.viewerContainer;l.classList.add("textLayer-"+u["textlayer"]);break}}if("pdfbug"in u){r.PDFJS.pdfBug=true;var c=u["pdfbug"];var d=c.split(",");s.push(F(d))}}n.mozL10n.setLanguage(r.PDFJS.locale);if(!E.supportsPrinting){e.toolbar.print.classList.add("hidden");e.secondaryToolbar.printButton.classList.add("hidden")}if(!E.supportsFullscreen){e.toolbar.presentationModeButton.classList.add("hidden");e.secondaryToolbar.presentationModeButton.classList.add("hidden")}if(E.supportsIntegratedFind){e.toolbar.viewFind.classList.add("hidden")}e.sidebar.mainContainer.addEventListener("transitionend",function(e){if(e.target===this){E.eventBus.dispatch("resize")}},true);e.sidebar.toggleButton.addEventListener("click",function(){E.pdfSidebar.toggle()});Promise.all(s).then(function(){x(t)}).catch(function(e){E.error(n.mozL10n.get("loading_error",null,"An error occurred while opening."),e)})}var x;{x=function Ge(e){if(e&&e.lastIndexOf("file:",0)===0){E.setTitleUsingUrl(e);var t=new XMLHttpRequest;t.onload=function(){E.open(new Uint8Array(t.response))};try{t.open("GET",e);t.responseType="arraybuffer";t.send()}catch(i){E.error(n.mozL10n.get("loading_error",null,"An error occurred while loading the PDF."),i)}return}if(e){E.open(e)}}}function V(e){var t=e.pageNumber;var i=t-1;var a=E.pdfViewer.getPageView(i);if(t===E.page){E.toolbar.updateLoadingIndicatorState(false)}if(!a){return}if(E.pdfSidebar.isThumbnailViewVisible){var s=E.pdfThumbnailViewer.getThumbnail(i);s.setImage(a)}if(r.PDFJS.pdfBug&&Stats.enabled&&a.stats){Stats.add(t,a.stats)}if(a.error){E.error(n.mozL10n.get("rendering_error",null,"An error occurred while rendering the page."),a.error)}}function N(e){}function O(e){var t=e.mode,i;switch(t){case"thumbs":i=s.SidebarView.THUMBS;break;case"bookmarks":case"outline":i=s.SidebarView.OUTLINE;break;case"attachments":i=s.SidebarView.ATTACHMENTS;break;case"none":i=s.SidebarView.NONE;break;default:console.error('Invalid "pagemode" hash parameter: '+t);return}E.pdfSidebar.switchView(i,true)}function M(e){var t=e.action;switch(t){case"GoToPage":E.appConfig.toolbar.pageNumber.select();break;case"Find":if(!E.supportsIntegratedFind){E.findBar.toggle()}break}}function A(e){var t=e.active;var i=e.switchInProgress;E.pdfViewer.presentationModeState=i?o.PresentationModeState.CHANGING:t?o.PresentationModeState.FULLSCREEN:o.PresentationModeState.NORMAL}function R(e){E.pdfRenderingQueue.isThumbnailViewEnabled=E.pdfSidebar.isThumbnailViewVisible;var t=E.store;if(t&&E.isInitialViewSet){t.set("sidebarView",e.view).catch(function(){})}}function U(e){var t=e.location,i=E.store;if(i&&E.isInitialViewSet){i.setMultiple({exists:true,page:t.pageNumber,zoom:t.scale,scrollLeft:t.left,scrollTop:t.top}).catch(function(){})}var n=E.pdfLinkService.getAnchorUrl(t.pdfOpenParams);E.appConfig.toolbar.viewBookmark.href=n;E.appConfig.secondaryToolbar.viewBookmarkButton.href=n;E.pdfHistory.updateCurrentBookmark(t.pdfOpenParams,t.pageNumber);var r=E.pdfViewer.getPageView(E.page-1);var s=r.renderingState!==a.RenderingStates.FINISHED;E.toolbar.updateLoadingIndicatorState(s)}function j(){var e=E.pdfViewer.currentScaleValue;if(e==="auto"||e==="page-fit"||e==="page-width"){E.pdfViewer.currentScaleValue=e}else if(!e){E.pdfViewer.currentScaleValue=n.DEFAULT_SCALE_VALUE}E.pdfViewer.update()}function H(e){if(E.pdfHistory.isHashChangeUnlocked){var t=e.hash;if(!t){return}if(!E.isInitialViewSet){E.initialBookmark=t}else{E.pdfLinkService.setHash(t)}}}var z;{z=function Qe(e){var t=e.fileInput.files[0];if(!r.PDFJS.disableCreateObjectURL&&typeof URL!=="undefined"&&URL.createObjectURL){E.open(URL.createObjectURL(t))}else{var i=new FileReader;i.onload=function a(e){var t=e.target.result;var i=new Uint8Array(t);E.open(i)};i.readAsArrayBuffer(t)}E.setTitleUsingUrl(t.name);var n=E.appConfig;n.toolbar.viewBookmark.setAttribute("hidden","true");n.secondaryToolbar.viewBookmarkButton.setAttribute("hidden","true");n.toolbar.download.setAttribute("hidden","true");n.secondaryToolbar.downloadButton.setAttribute("hidden","true")}}function J(){E.requestPresentationMode()}function W(){var e=E.appConfig.openFileInputName;document.getElementById(e).click()}function q(){if(window.pdfJsPrintDisabled!==true){window.print()}}function G(){E.download()}function Q(){if(E.pdfDocument){E.page=1}}function K(){if(E.pdfDocument){E.page=E.pagesCount}}function X(){E.page++}function Z(){E.page--}function Y(){E.zoomIn()}function $(){E.zoomOut()}function ee(e){var t=E.pdfViewer;t.currentPageLabel=e.value;if(e.value!==t.currentPageNumber.toString()&&e.value!==t.currentPageLabel){E.toolbar.setPageNumber(t.currentPageNumber,t.currentPageLabel)}}function te(e){E.pdfViewer.currentScaleValue=e.value}function ie(){E.rotatePages(90)}function ne(){E.rotatePages(-90)}function re(){E.pdfDocumentProperties.open()}function ae(e){E.findController.executeCommand("find"+e.type,{query:e.query,phraseSearch:e.phraseSearch,caseSensitive:e.caseSensitive,highlightAll:e.highlightAll,findPrevious:e.findPrevious})}function se(e){E.findController.executeCommand("find",{query:e.query,phraseSearch:e.phraseSearch,caseSensitive:false,highlightAll:true,findPrevious:false})}function oe(e){E.toolbar.setPageScale(e.presetValue,e.scale);E.pdfViewer.update()}function ue(e){var t=e.pageNumber;E.toolbar.setPageNumber(t,e.pageLabel||null);E.secondaryToolbar.setPageNumber(t);if(E.pdfSidebar.isThumbnailViewVisible){E.pdfThumbnailViewer.scrollThumbnailIntoView(t)}if(r.PDFJS.pdfBug&&Stats.enabled){var i=E.pdfViewer.getPageView(t-1);if(i.stats){Stats.add(t,i.stats)}}}var le=false,ce;function de(e){var t=E.pdfViewer;if(t.isInPresentationMode){return}if(e.ctrlKey||e.metaKey){var i=E.supportedMouseWheelZoomModifierKeys;if(e.ctrlKey&&!i.ctrlKey||e.metaKey&&!i.metaKey){return}e.preventDefault();if(le){return}var r=t.currentScale;var a=(0,n.normalizeWheelEventDelta)(e);var s=3;var o=a*s;if(o<0){E.zoomOut(-o)}else{E.zoomIn(o)}var u=t.currentScale;if(r!==u){var l=u/r-1;var c=t.container.getBoundingClientRect();var d=e.clientX-c.left;var h=e.clientY-c.top;t.container.scrollLeft+=d*l;t.container.scrollTop+=h*l}}else{le=true;clearTimeout(ce);ce=setTimeout(function(){le=false},1e3)}}function he(e){if(!E.secondaryToolbar.isOpen){return}var t=E.appConfig;if(E.pdfViewer.containsElement(e.target)||t.toolbar.container.contains(e.target)&&e.target!==t.secondaryToolbar.toggleButton){E.secondaryToolbar.close()}}function fe(e){if(c.OverlayManager.active){return}var t=false,i=false;var r=(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0);var a=E.pdfViewer;var s=a&&a.isInPresentationMode;if(r===1||r===8||r===5||r===12){switch(e.keyCode){case 70:if(!E.supportsIntegratedFind){E.findBar.open();t=true}break;case 71:if(!E.supportsIntegratedFind){var o=E.findController.state;if(o){E.findController.executeCommand("findagain",{query:o.query,phraseSearch:o.phraseSearch,caseSensitive:o.caseSensitive,highlightAll:o.highlightAll,findPrevious:r===5||r===12})}t=true}break;case 61:case 107:case 187:case 171:if(!s){E.zoomIn()}t=true;break;case 173:case 109:case 189:if(!s){E.zoomOut()}t=true;break;case 48:case 96:if(!s){setTimeout(function(){a.currentScaleValue=n.DEFAULT_SCALE_VALUE});t=false}break;case 38:if(s||E.page>1){E.page=1;t=true;i=true}break;case 40:if(s||E.page<E.pagesCount){E.page=E.pagesCount;t=true;i=true}break}}if(r===1||r===8){switch(e.keyCode){case 83:E.download();t=true;break}}if(r===3||r===10){switch(e.keyCode){case 80:E.requestPresentationMode();t=true;break;case 71:E.appConfig.toolbar.pageNumber.select();t=true;break}}if(t){if(i&&!s){a.focus()}e.preventDefault();return}var u=document.activeElement||document.querySelector(":focus");var l=u&&u.tagName.toUpperCase();if(l==="INPUT"||l==="TEXTAREA"||l==="SELECT"){if(e.keyCode!==27){return}}if(r===0){switch(e.keyCode){case 38:case 33:case 8:if(!s&&a.currentScaleValue!=="page-fit"){break}case 37:if(a.isHorizontalScrollbarEnabled){break}case 75:case 80:if(E.page>1){E.page--}t=true;break;case 27:if(E.secondaryToolbar.isOpen){E.secondaryToolbar.close();t=true}if(!E.supportsIntegratedFind&&E.findBar.opened){E.findBar.close();t=true}break;case 40:case 34:case 32:if(!s&&a.currentScaleValue!=="page-fit"){break}case 39:if(a.isHorizontalScrollbarEnabled){break}case 74:case 78:if(E.page<E.pagesCount){E.page++}t=true;break;case 36:if(s||E.page>1){E.page=1;t=true;i=true}break;case 35:if(s||E.page<E.pagesCount){E.page=E.pagesCount;t=true;i=true}break;case 72:if(!s){E.handTool.toggle()}break;case 82:E.rotatePages(90);break}}if(r===4){switch(e.keyCode){case 32:if(!s&&a.currentScaleValue!=="page-fit"){break}if(E.page>1){E.page--}t=true;break;case 82:E.rotatePages(-90);break}}if(!t&&!s){if(e.keyCode>=33&&e.keyCode<=40||e.keyCode===32&&l!=="BUTTON"){i=true}}if(r===2){switch(e.keyCode){case 37:if(s){E.pdfHistory.back();t=true}break;case 39:if(s){E.pdfHistory.forward();t=true}break}}if(i&&!a.containsElement(u)){a.focus()}if(t){e.preventDefault()}}n.localized.then(function Ke(){document.getElementsByTagName("html")[0].dir=n.mozL10n.getDirection()});var ve={instance:{supportsPrinting:false,createPrintService:function Xe(){throw new Error("Not implemented: createPrintService")}}};t.PDFViewerApplication=E;t.DefaultExternalServices=I;t.PDFPrintServiceFactory=ve},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SimpleLinkService=t.PDFLinkService=undefined;var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var r=i(2);var a=i(0);var s=/^\d+$/;function o(e){return s.test(e)}var u=function c(){function e(e){e=e||{};this.eventBus=e.eventBus||(0,r.getGlobalEventBus)();this.baseUrl=null;this.pdfDocument=null;this.pdfViewer=null;this.pdfHistory=null;this._pagesRefCache=null}e.prototype={setDocument:function i(e,t){this.baseUrl=t;this.pdfDocument=e;this._pagesRefCache=Object.create(null)},setViewer:function s(e){this.pdfViewer=e},setHistory:function u(e){this.pdfHistory=e},get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0},get page(){return this.pdfViewer.currentPageNumber},set page(e){this.pdfViewer.currentPageNumber=e},navigateTo:function l(e){var t="";var i=this;var n=function a(n){var r;if(n instanceof Object){r=i._cachedPageNumber(n)}else if((n|0)===n){r=n+1}else{console.error('PDFLinkService_navigateTo: "'+n+'" is not a valid destination reference.');return}if(r){if(r<1||r>i.pagesCount){console.error('PDFLinkService_navigateTo: "'+r+'" is a non-existent page number.');return}i.pdfViewer.scrollPageIntoView({pageNumber:r,destArray:e});if(i.pdfHistory){i.pdfHistory.push({dest:e,hash:t,page:r})}}else{i.pdfDocument.getPageIndex(n).then(function(e){i.cachePageRef(e+1,n);a(n)}).catch(function(){console.error('PDFLinkService_navigateTo: "'+n+'" is not a valid page reference.')})}};var r;if(typeof e==="string"){t=e;r=this.pdfDocument.getDestination(e)}else{r=Promise.resolve(e)}r.then(function(t){e=t;if(!(t instanceof Array)){return}n(t[0])})},getDestinationHash:function c(e){if(typeof e==="string"){return this.getAnchorUrl("#"+(o(e)?"nameddest=":"")+escape(e))}if(e instanceof Array){var t=JSON.stringify(e);return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")},getAnchorUrl:function d(e){return(this.baseUrl||"")+e},setHash:function h(e){var i,n;if(e.indexOf("=")>=0){var r=(0,a.parseQueryString)(e);if("search"in r){this.eventBus.dispatch("findfromurlhash",{source:this,query:r["search"].replace(/"/g,""),phraseSearch:r["phrase"]==="true"})}if("nameddest"in r){if(this.pdfHistory){this.pdfHistory.updateNextHashParam(r.nameddest)}this.navigateTo(r.nameddest);return}if("page"in r){i=r.page|0||1}if("zoom"in r){var s=r.zoom.split(",");var u=s[0];var l=parseFloat(u);if(u.indexOf("Fit")===-1){n=[null,{name:"XYZ"},s.length>1?s[1]|0:null,s.length>2?s[2]|0:null,l?l/100:u]}else{if(u==="Fit"||u==="FitB"){n=[null,{name:u}]}else if(u==="FitH"||u==="FitBH"||u==="FitV"||u==="FitBV"){n=[null,{name:u},s.length>1?s[1]|0:null]}else if(u==="FitR"){if(s.length!==5){console.error("PDFLinkService_setHash: "+"Not enough parameters for 'FitR'.")}else{n=[null,{name:u},s[1]|0,s[2]|0,s[3]|0,s[4]|0]}}else{console.error("PDFLinkService_setHash: '"+u+"' is not a valid zoom value.")}}}if(n){this.pdfViewer.scrollPageIntoView({pageNumber:i||this.page,destArray:n,allowNegativeOffset:true})}else if(i){this.page=i}if("pagemode"in r){this.eventBus.dispatch("pagemode",{source:this,mode:r.pagemode})}}else{if(o(e)&&e<=this.pagesCount){console.warn("PDFLinkService_setHash: specifying a page number "+"directly after the hash symbol (#) is deprecated, "+'please use the "#page='+e+'" form instead.');this.page=e|0}n=unescape(e);try{n=JSON.parse(n);if(!(n instanceof Array)){n=n.toString()}}catch(c){}if(typeof n==="string"||t(n)){if(this.pdfHistory){this.pdfHistory.updateNextHashParam(n)}this.navigateTo(n);return}console.error("PDFLinkService_setHash: '"+unescape(e)+"' is not a valid destination.")}},executeNamedAction:function f(e){switch(e){case"GoBack":if(this.pdfHistory){this.pdfHistory.back()}break;case"GoForward":if(this.pdfHistory){this.pdfHistory.forward()}break;case"NextPage":if(this.page<this.pagesCount){this.page++}break;case"PrevPage":if(this.page>1){this.page--}break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break;default:break}this.eventBus.dispatch("namedaction",{source:this,action:e})},onFileAttachmentAnnotation:function v(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.eventBus.dispatch("fileattachmentannotation",{source:this,id:e.id,filename:e.filename,content:e.content})},cachePageRef:function g(e,t){var i=t.num+" "+t.gen+" R";this._pagesRefCache[i]=e},_cachedPageNumber:function p(e){var t=e.num+" "+e.gen+" R";return this._pagesRefCache&&this._pagesRefCache[t]||null}};function t(e){if(!(e instanceof Array)){return false}var t=e.length,i=true;if(t<2){return false}var r=e[0];if(!((typeof r==="undefined"?"undefined":n(r))==="object"&&typeof r.num==="number"&&(r.num|0)===r.num&&typeof r.gen==="number"&&(r.gen|0)===r.gen)&&!(typeof r==="number"&&(r|0)===r&&r>=0)){return false}var a=e[1];if(!((typeof a==="undefined"?"undefined":n(a))==="object"&&typeof a.name==="string")){return false}switch(a.name){case"XYZ":if(t!==5){return false}break;case"Fit":case"FitB":return t===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(t!==3){return false}break;case"FitR":if(t!==6){return false}i=false;break;default:return false}for(var s=2;s<t;s++){var o=e[s];if(!(typeof o==="number"||i&&o===null)){return false}}return true}return e}();var l=function d(){function e(){}e.prototype={get page(){return 0},set page(e){},navigateTo:function t(e){},getDestinationHash:function i(e){return"#"},getAnchorUrl:function n(e){return"#"},setHash:function r(e){},executeNamedAction:function a(e){},onFileAttachmentAnnotation:function s(e){},cachePageRef:function o(e,t){}};return e}();t.PDFLinkService=u;t.SimpleLinkService=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFFindController=t.FindStates=undefined;var n=i(1);var r=i(0);var a={FIND_FOUND:0,FIND_NOTFOUND:1,FIND_WRAPPED:2,FIND_PENDING:3};var s=-50;var o=-400;var u={"":"'","":"'","":"'","":"'","":'"',"":'"',"":'"',"":'"',"":"1/4","":"1/2","":"3/4"};var l=function c(){function e(e){this.pdfViewer=e.pdfViewer||null;this.onUpdateResultsCount=null;this.onUpdateState=null;this.reset();var t=Object.keys(u).join("");this.normalizationRegex=new RegExp("["+t+"]","g")}e.prototype={reset:function t(){var e=this;this.startedTextExtraction=false;this.extractTextPromises=[];this.pendingFindMatches=Object.create(null);this.active=false;this.pageContents=[];this.pageMatches=[];this.pageMatchesLength=null;this.matchCount=0;this.selected={pageIdx:-1,matchIdx:-1};this.offset={pageIdx:null,matchIdx:null};this.pagesToSearch=null;this.resumePageIdx=null;this.state=null;this.dirtyMatch=false;this.findTimeout=null;this._firstPagePromise=new Promise(function(t){e.resolveFirstPage=t})},normalize:function i(e){return e.replace(this.normalizationRegex,function(e){return u[e]})},_prepareMatches:function l(e,t,i){function n(e,t){var i,n,r;i=e[t];r=e[t+1];if(t<e.length-1&&i.match===r.match){i.skipped=true;return true}for(var a=t-1;a>=0;a--){n=e[a];if(n.skipped){continue}if(n.match+n.matchLength<i.match){break}if(n.match+n.matchLength>=i.match+i.matchLength){i.skipped=true;return true}}return false}var r,a;e.sort(function(e,t){return e.match===t.match?e.matchLength-t.matchLength:e.match-t.match});for(r=0,a=e.length;r<a;r++){if(n(e,r)){continue}t.push(e[r].match);i.push(e[r].matchLength)}},calcFindPhraseMatch:function c(e,t,i){var n=[];var r=e.length;var a=-r;while(true){a=i.indexOf(e,a+r);if(a===-1){break}n.push(a)}this.pageMatches[t]=n},calcFindWordMatch:function d(e,t,i){var n=[];var r=e.match(/\S+/g);var a,s,o;for(var u=0,l=r.length;u<l;u++){a=r[u];s=a.length;o=-s;while(true){o=i.indexOf(a,o+s);if(o===-1){break}n.push({match:o,matchLength:s,skipped:false})}}if(!this.pageMatchesLength){this.pageMatchesLength=[]}this.pageMatchesLength[t]=[];this.pageMatches[t]=[];this._prepareMatches(n,this.pageMatches[t],this.pageMatchesLength[t])},calcFindMatch:function h(e){var t=this.normalize(this.pageContents[e]);var i=this.normalize(this.state.query);var n=this.state.caseSensitive;var r=this.state.phraseSearch;var a=i.length;if(a===0){return}if(!n){t=t.toLowerCase();i=i.toLowerCase()}if(r){this.calcFindPhraseMatch(i,e,t)}else{this.calcFindWordMatch(i,e,t)}this.updatePage(e);if(this.resumePageIdx===e){this.resumePageIdx=null;this.nextPageMatch()}if(this.pageMatches[e].length>0){this.matchCount+=this.pageMatches[e].length;this.updateUIResultsCount()}},extractText:function f(){var e=this;if(this.startedTextExtraction){return}this.startedTextExtraction=true;this.pageContents.length=0;var t=Promise.resolve();var i=function s(i,r){var a=(0,n.createPromiseCapability)();e.extractTextPromises[i]=a.promise;t=t.then(function(){return e.pdfViewer.getPageTextContent(i).then(function(t){var n=t.items;var r=[];for(var s=0,o=n.length;s<o;s++){r.push(n[s].str)}e.pageContents[i]=r.join("");a.resolve(i)})})};for(var r=0,a=this.pdfViewer.pagesCount;r<a;r++){i(r,a)}},executeCommand:function v(e,t){var i=this;if(this.state===null||e!=="findagain"){this.dirtyMatch=true}this.state=t;this.updateUIState(a.FIND_PENDING);this._firstPagePromise.then(function(){i.extractText();clearTimeout(i.findTimeout);if(e==="find"){i.findTimeout=setTimeout(i.nextMatch.bind(i),250)}else{i.nextMatch()}})},updatePage:function g(e){if(this.selected.pageIdx===e){this.pdfViewer.currentPageNumber=e+1}var t=this.pdfViewer.getPageView(e);if(t.textLayer){t.textLayer.updateMatches()}},nextMatch:function p(){var e=this;var t=this.state.findPrevious;var i=this.pdfViewer.currentPageNumber-1;var n=this.pdfViewer.pagesCount;this.active=true;if(this.dirtyMatch){this.dirtyMatch=false;this.selected.pageIdx=this.selected.matchIdx=-1;this.offset.pageIdx=i;this.offset.matchIdx=null;this.hadMatch=false;this.resumePageIdx=null;this.pageMatches=[];this.matchCount=0;this.pageMatchesLength=null;for(var r=0;r<n;r++){this.updatePage(r);if(!(r in this.pendingFindMatches)){this.pendingFindMatches[r]=true;this.extractTextPromises[r].then(function(t){delete e.pendingFindMatches[t];e.calcFindMatch(t)})}}}if(this.state.query===""){this.updateUIState(a.FIND_FOUND);return}if(this.resumePageIdx){return}var s=this.offset;this.pagesToSearch=n;if(s.matchIdx!==null){var o=this.pageMatches[s.pageIdx].length;if(!t&&s.matchIdx+1<o||t&&s.matchIdx>0){this.hadMatch=true;s.matchIdx=t?s.matchIdx-1:s.matchIdx+1;this.updateMatch(true);return}this.advanceOffsetPage(t)}this.nextPageMatch()},matchesReady:function m(e){var t=this.offset;var i=e.length;var n=this.state.findPrevious;if(i){this.hadMatch=true;t.matchIdx=n?i-1:0;this.updateMatch(true);return true}this.advanceOffsetPage(n);if(t.wrapped){t.matchIdx=null;if(this.pagesToSearch<0){this.updateMatch(false);return true}}return false},updateMatchPosition:function w(e,t,i,n){if(this.selected.matchIdx===t&&this.selected.pageIdx===e){var a={top:s,left:o};(0,r.scrollIntoView)(i[n],a,true)}},nextPageMatch:function b(){if(this.resumePageIdx!==null){console.error("There can only be one pending page.")}do{var e=this.offset.pageIdx;var t=this.pageMatches[e];if(!t){this.resumePageIdx=e;break}}while(!this.matchesReady(t))},advanceOffsetPage:function y(e){var t=this.offset;var i=this.extractTextPromises.length;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1;t.matchIdx=null;this.pagesToSearch--;if(t.pageIdx>=i||t.pageIdx<0){t.pageIdx=e?i-1:0;t.wrapped=true}},updateMatch:function P(e){var t=a.FIND_NOTFOUND;var i=this.offset.wrapped;this.offset.wrapped=false;if(e){var n=this.selected.pageIdx;this.selected.pageIdx=this.offset.pageIdx;this.selected.matchIdx=this.offset.matchIdx;t=i?a.FIND_WRAPPED:a.FIND_FOUND;if(n!==-1&&n!==this.selected.pageIdx){this.updatePage(n)}}this.updateUIState(t,this.state.findPrevious);if(this.selected.pageIdx!==-1){this.updatePage(this.selected.pageIdx)}},updateUIResultsCount:function S(){if(this.onUpdateResultsCount){this.onUpdateResultsCount(this.matchCount)}},updateUIState:function L(e,t){if(this.onUpdateState){this.onUpdateState(e,t,this.matchCount)}}};return e}();t.FindStates=a;t.PDFFindController=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.GenericCom=undefined;var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var r=i(5);var a=i(26);var s=i(11);function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function u(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function l(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var c={};var d=function(e){l(t,e);function t(){o(this,t);return u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"_writeToStorage",value:function i(e){return new Promise(function(t){localStorage.setItem("pdfjs.preferences",JSON.stringify(e));t()})}},{key:"_readFromStorage",value:function r(e){return new Promise(function(e){var t=JSON.parse(localStorage.getItem("pdfjs.preferences"));e(t)})}}]);return t}(a.BasePreferences);var h=Object.create(r.DefaultExternalServices);h.createDownloadManager=function(){return new s.DownloadManager};h.createPreferences=function(){return new d};r.PDFViewerApplication.externalServices=h;t.GenericCom=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFPrintService=undefined;var n=i(0);var r=i(4);var a=i(1);var s=i(5);var o=null;function u(e,t,i,r){var a=o.scratchCanvas;var s=150;var u=s/72;a.width=Math.floor(r.width*u);a.height=Math.floor(r.height*u);var l=Math.floor(r.width*n.CSS_UNITS)+"px";var c=Math.floor(r.height*n.CSS_UNITS)+"px";var d=a.getContext("2d");d.save();d.fillStyle="rgb(255, 255, 255)";d.fillRect(0,0,a.width,a.height);d.restore();return t.getPage(i).then(function(e){var t={canvasContext:d,transform:[u,0,0,u,0,0],viewport:e.getViewport(1,r.rotation),intent:"print"};return e.render(t).promise}).then(function(){return{width:l,height:c}})}function l(e,t,i){this.pdfDocument=e;this.pagesOverview=t;this.printContainer=i;this.currentPage=-1;this.scratchCanvas=document.createElement("canvas")}l.prototype={layout:function w(){this.throwIfInactive();var e=document.querySelector("body");e.setAttribute("data-pdfjsprinting",true);var t=this.pagesOverview.every(function(e){return e.width===this.pagesOverview[0].width&&e.height===this.pagesOverview[0].height},this);if(!t){console.warn("Not all pages have the same size. The printed "+"result may be incorrect!")}this.pageStyleSheet=document.createElement("style");var i=this.pagesOverview[0];this.pageStyleSheet.textContent="@supports ((size:A4) and (size:1pt 1pt)) {"+"@page { size: "+i.width+"pt "+i.height+"pt;}"+"}";e.appendChild(this.pageStyleSheet)},destroy:function b(){if(o!==this){return}this.printContainer.textContent="";if(this.pageStyleSheet&&this.pageStyleSheet.parentNode){this.pageStyleSheet.parentNode.removeChild(this.pageStyleSheet);this.pageStyleSheet=null}this.scratchCanvas.width=this.scratchCanvas.height=0;this.scratchCanvas=null;o=null;m().then(function(){if(r.OverlayManager.active!=="printServiceOverlay"){return}r.OverlayManager.close("printServiceOverlay")})},renderPages:function y(){var e=this;var t=this.pagesOverview.length;var i=function n(i,r){e.throwIfInactive();if(++e.currentPage>=t){f(t,t);i();return}var a=e.currentPage;f(a,t);u(e,e.pdfDocument,a+1,e.pagesOverview[a]).then(e.useRenderedPage.bind(e)).then(function(){n(i,r)},r)};return new Promise(i)},useRenderedPage:function P(e){this.throwIfInactive();var t=document.createElement("img");t.style.width=e.width;t.style.height=e.height;var i=this.scratchCanvas;if("toBlob"in i&&!a.PDFJS.disableCreateObjectURL){i.toBlob(function(e){t.src=URL.createObjectURL(e)})}else{t.src=i.toDataURL()}var n=document.createElement("div");n.appendChild(t);this.printContainer.appendChild(n);return new Promise(function(e,i){t.onload=e;t.onerror=i})},performPrint:function S(){try{r.OverlayManager.close("printServiceOverlay")}finally{}var e=this;this.throwIfInactive();return new Promise(function(t){setTimeout(function(){if(!e.active){t();return}c.call(window);setTimeout(t,20)},0)})},get active(){return this===o},throwIfInactive:function L(){if(!this.active){throw new Error("This print request was cancelled or completed.")}}};var c=window.print;window.print=function _(){if(o){console.warn("Ignored window.print() because of a pending print job.");return}m().then(function(){if(o){r.OverlayManager.open("printServiceOverlay")}});try{d("beforeprint")}finally{if(!o){console.error("Expected print service to be initialized.");if(r.OverlayManager.active==="printServiceOverlay"){r.OverlayManager.close("printServiceOverlay")}return}var e=o;o.renderPages().then(function(){return e.performPrint()}).catch(function(){}).then(function(){if(e.active){h()}})}};function d(e){var t=document.createEvent("CustomEvent");t.initCustomEvent(e,false,false,"custom");

window.dispatchEvent(t)}function h(){if(o){o.destroy();d("afterprint")}}function f(e,t){var i=document.getElementById("printServiceOverlay"+window.pdfJsViewerId);var r=Math.round(100*e/t);var a=i.querySelector("progress");var s=i.querySelector(".relative-progress");a.value=r;s.textContent=n.mozL10n.get("print_progress_percent",{progress:r},r+"%")}var v=!!document.attachEvent;window.addEventListener("keydown",function(e){if(e.keyCode===80&&(e.ctrlKey||e.metaKey)&&!e.altKey&&(!e.shiftKey||window.chrome||window.opera)){window.print();if(v){return}e.preventDefault();if(e.stopImmediatePropagation){e.stopImmediatePropagation()}else{e.stopPropagation()}return}},true);if(v){document.attachEvent("onkeydown",function(e){e=e||window.event;if(e.keyCode===80&&e.ctrlKey){e.keyCode=0;return false}})}if("onbeforeprint"in window){var g=function C(e){if(e.detail!=="custom"&&e.stopImmediatePropagation){e.stopImmediatePropagation()}};window.addEventListener("beforeprint",g);window.addEventListener("afterprint",g)}var p;function m(){if(!p){p=r.OverlayManager.register("printServiceOverlay",document.getElementById("printServiceOverlay"+window.pdfJsViewerId),h,true);document.getElementById("printCancel"+window.pdfJsViewerId).onclick=h}return p}s.PDFPrintServiceFactory.instance={supportsPrinting:true,createPrintService:function k(e,t,i){if(o){throw new Error("The print service is created and active.")}o=new l(e,t,i);return o}};t.PDFPrintService=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DefaultAnnotationLayerFactory=t.AnnotationLayerBuilder=undefined;var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var r=i(1);var a=i(0);var s=i(6);function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var u=function(){function e(t){o(this,e);this.pageDiv=t.pageDiv;this.pdfPage=t.pdfPage;this.renderInteractiveForms=t.renderInteractiveForms;this.linkService=t.linkService;this.downloadManager=t.downloadManager;this.div=null}n(e,[{key:"render",value:function t(e){var t=this;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"display";this.pdfPage.getAnnotations({intent:i}).then(function(i){var n={viewport:e.clone({dontFlip:true}),div:t.div,annotations:i,page:t.pdfPage,renderInteractiveForms:t.renderInteractiveForms,linkService:t.linkService,downloadManager:t.downloadManager};if(t.div){r.AnnotationLayer.update(n)}else{if(i.length===0){return}t.div=document.createElement("div");t.div.className="annotationLayer";t.pageDiv.appendChild(t.div);n.div=t.div;r.AnnotationLayer.render(n);if(typeof a.mozL10n!=="undefined"){a.mozL10n.translate(t.div)}}})}},{key:"hide",value:function i(){if(!this.div){return}this.div.setAttribute("hidden","true")}}]);return e}();var l=function(){function e(){o(this,e)}n(e,[{key:"createAnnotationLayerBuilder",value:function t(e,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return new u({pageDiv:e,pdfPage:i,renderInteractiveForms:n,linkService:new s.SimpleLinkService})}}]);return e}();t.AnnotationLayerBuilder=u;t.DefaultAnnotationLayerFactory=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DownloadManager=undefined;var n=i(1);function r(e,t){var i=document.createElement("a");if(i.click){i.href=e;i.target="_parent";if("download"in i){i.download=t}(document.body||document.documentElement).appendChild(i);i.click();i.parentNode.removeChild(i)}else{if(window.top===window&&e.split("#")[0]===window.location.href.split("#")[0]){var n=e.indexOf("?")===-1?"?":"&";e=e.replace(/#|$/,n+"$&")}window.open(e,"_parent")}}function a(){}a.prototype={downloadUrl:function s(e,t){if(!(0,n.createValidAbsoluteUrl)(e,"http://example.com")){return}r(e+"#pdfjs.action=download",t)},downloadData:function o(e,t,i){if(navigator.msSaveBlob){return navigator.msSaveBlob(new Blob([e],{type:i}),t)}var a=(0,n.createObjectURL)(e,i,n.PDFJS.disableCreateObjectURL);r(a,t)},download:function u(e,t,i){if(navigator.msSaveBlob){if(!navigator.msSaveBlob(e,i)){this.downloadUrl(t,i)}return}if(n.PDFJS.disableCreateObjectURL){this.downloadUrl(t,i);return}var a=URL.createObjectURL(e);r(a,i)}};t.DownloadManager=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){this.element=e.element;this.document=e.element.ownerDocument;if(typeof e.ignoreTarget==="function"){this.ignoreTarget=e.ignoreTarget}this.onActiveChanged=e.onActiveChanged;this.activate=this.activate.bind(this);this.deactivate=this.deactivate.bind(this);this.toggle=this.toggle.bind(this);this._onmousedown=this._onmousedown.bind(this);this._onmousemove=this._onmousemove.bind(this);this._endPan=this._endPan.bind(this);var t=this.overlay=document.createElement("div");t.className="grab-to-pan-grabbing"}n.prototype={CSS_CLASS_GRAB:"grab-to-pan-grab",activate:function c(){if(!this.active){this.active=true;this.element.addEventListener("mousedown",this._onmousedown,true);this.element.classList.add(this.CSS_CLASS_GRAB);if(this.onActiveChanged){this.onActiveChanged(true)}}},deactivate:function d(){if(this.active){this.active=false;this.element.removeEventListener("mousedown",this._onmousedown,true);this._endPan();this.element.classList.remove(this.CSS_CLASS_GRAB);if(this.onActiveChanged){this.onActiveChanged(false)}}},toggle:function h(){if(this.active){this.deactivate()}else{this.activate()}},ignoreTarget:function f(e){return e[r]("a[href], a[href] *, input, textarea, button, button *, select, option")},_onmousedown:function v(e){if(e.button!==0||this.ignoreTarget(e.target)){return}if(e.originalTarget){try{e.originalTarget.tagName}catch(t){return}}this.scrollLeftStart=this.element.scrollLeft;this.scrollTopStart=this.element.scrollTop;this.clientXStart=e.clientX;this.clientYStart=e.clientY;this.document.addEventListener("mousemove",this._onmousemove,true);this.document.addEventListener("mouseup",this._endPan,true);this.element.addEventListener("scroll",this._endPan,true);e.preventDefault();e.stopPropagation();var i=document.activeElement;if(i&&!i.contains(e.target)){i.blur()}},_onmousemove:function g(e){this.element.removeEventListener("scroll",this._endPan,true);if(l(e)){this._endPan();return}var t=e.clientX-this.clientXStart;var i=e.clientY-this.clientYStart;var n=this.scrollTopStart-i;var r=this.scrollLeftStart-t;if(this.element.scrollTo){this.element.scrollTo({top:n,left:r,behavior:"instant"})}else{this.element.scrollTop=n;this.element.scrollLeft=r}if(!this.overlay.parentNode){document.body.appendChild(this.overlay)}},_endPan:function p(){this.element.removeEventListener("scroll",this._endPan,true);this.document.removeEventListener("mousemove",this._onmousemove,true);this.document.removeEventListener("mouseup",this._endPan,true);this.overlay.remove()}};var r;["webkitM","mozM","msM","oM","m"].some(function(e){var t=e+"atches";if(t in document.documentElement){r=t}t+="Selector";if(t in document.documentElement){r=t}return r});var a=!document.documentMode||document.documentMode>9;var s=window.chrome;var o=s&&(s.webstore||s.app);var u=/Apple/.test(navigator.vendor)&&/Version\/([6-9]\d*|[1-5]\d+)/.test(navigator.userAgent);function l(e){if("buttons"in e&&a){return!(e.buttons&1)}if(o||u){return e.which===0}}t.GrabToPan=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.HandTool=undefined;var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var r=i(12);var a=i(0);function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=function(){function e(t){var i=this;var n=t.container,o=t.eventBus,u=t.preferences;s(this,e);this.container=n;this.eventBus=o;this.wasActive=false;this.handTool=new r.GrabToPan({element:this.container,onActiveChanged:function c(e){i.eventBus.dispatch("handtoolchanged",{isActive:e})}});this.eventBus.on("togglehandtool",this.toggle.bind(this));var l=u.get("enableHandToolOnLoad");Promise.all([a.localized,l]).then(function(e){if(e[1]===true){i.handTool.activate()}}).catch(function(e){});this.eventBus.on("presentationmodechanged",function(e){if(e.switchInProgress){return}if(e.active){i.enterPresentationMode()}else{i.exitPresentationMode()}})}n(e,[{key:"toggle",value:function t(){this.handTool.toggle()}},{key:"enterPresentationMode",value:function i(){if(this.isActive){this.wasActive=true;this.handTool.deactivate()}}},{key:"exitPresentationMode",value:function o(){if(this.wasActive){this.wasActive=false;this.handTool.activate()}}},{key:"isActive",get:function u(){return!!this.handTool.active}}]);return e}();t.HandTool=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PasswordPrompt=undefined;var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var r=i(0);var a=i(4);var s=i(1);function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var u=function(){function e(t){var i=this;o(this,e);this.overlayName=t.overlayName;this.container=t.container;this.label=t.label;this.input=t.input;this.submitButton=t.submitButton;this.cancelButton=t.cancelButton;this.updateCallback=null;this.reason=null;this.submitButton.addEventListener("click",this.verify.bind(this));this.cancelButton.addEventListener("click",this.close.bind(this));this.input.addEventListener("keydown",function(e){if(e.keyCode===13){i.verify()}});if(!a.OverlayManager.overlays[this.overlayName]){a.OverlayManager.register(this.overlayName,this.container,this.close.bind(this),true)}}n(e,[{key:"open",value:function t(){var e=this;a.OverlayManager.open(this.overlayName).then(function(){e.input.focus();var t=r.mozL10n.get("password_label",null,"Enter the password to open this PDF file.");if(e.reason===s.PasswordResponses.INCORRECT_PASSWORD){t=r.mozL10n.get("password_invalid",null,"Invalid password. Please try again.")}e.label.textContent=t})}},{key:"close",value:function i(){var e=this;a.OverlayManager.close(this.overlayName).then(function(){e.input.value=""})}},{key:"verify",value:function u(){var e=this.input.value;if(e&&e.length>0){this.close();return this.updateCallback(e)}}},{key:"setUpdateCallback",value:function l(e,t){this.updateCallback=e;this.reason=t}}]);return e}();t.PasswordPrompt=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFAttachmentViewer=undefined;var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var r=i(1);function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var s=function(){function e(t){a(this,e);this.attachments=null;this.container=t.container;this.eventBus=t.eventBus;this.downloadManager=t.downloadManager;this._renderedCapability=(0,r.createPromiseCapability)();this.eventBus.on("fileattachmentannotation",this._appendAttachment.bind(this))}n(e,[{key:"reset",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this.attachments=null;this.container.textContent="";if(!e){this._renderedCapability=(0,r.createPromiseCapability)()}}},{key:"_dispatchEvent",value:function i(e){this.eventBus.dispatch("attachmentsloaded",{source:this,attachmentsCount:e});this._renderedCapability.resolve()}},{key:"_bindPdfLink",value:function s(e,t,i){if(r.PDFJS.disableCreateObjectURL){throw new Error("bindPdfLink: "+'Unsupported "PDFJS.disableCreateObjectURL" value.')}var n;e.onclick=function(){if(!n){n=(0,r.createObjectURL)(t,"application/pdf")}var e;e="?file="+encodeURIComponent(n+"#"+i);window.open(e);return false}}},{key:"_bindLink",value:function o(e,t,i){var n=this;e.onclick=function(){n.downloadManager.downloadData(t,i,"");return false}}},{key:"render",value:function u(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=e.attachments||null;var i=0;if(this.attachments){var n=e.keepRenderedCapability===true;this.reset(n)}this.attachments=t;if(!t){this._dispatchEvent(i);return}var a=Object.keys(t).sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())});i=a.length;for(var s=0;s<i;s++){var o=t[a[s]];var u=(0,r.removeNullCharacters)((0,r.getFilenameFromUrl)(o.filename));var l=document.createElement("div");l.className="attachmentsItem";var c=document.createElement("button");c.textContent=u;if(/\.pdf$/i.test(u)&&!r.PDFJS.disableCreateObjectURL){this._bindPdfLink(c,o.content,u)}else{this._bindLink(c,o.content,u)}l.appendChild(c);this.container.appendChild(l)}this._dispatchEvent(i)}},{key:"_appendAttachment",value:function l(e){var t=this;var i=e.id,n=e.filename,r=e.content;this._renderedCapability.promise.then(function(){var e=t.attachments;if(!e){e=Object.create(null)}else{for(var a in e){if(i===a){return}}}e[i]={filename:n,content:r};t.render({attachments:e,keepRenderedCapability:true})})}}]);return e}();t.PDFAttachmentViewer=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFDocumentProperties=undefined;var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var r=i(0);var a=i(1);var s=i(4);function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var u="-";var l=function(){function e(t){var i=t.overlayName,n=t.fields,r=t.container,a=t.closeButton;o(this,e);this.overlayName=i;this.fields=n;this.container=r;this._reset();if(a){a.addEventListener("click",this.close.bind(this))}if(!s.OverlayManager.overlays[this.overlayName]){s.OverlayManager.register(this.overlayName,this.container,this.close.bind(this))}}n(e,[{key:"open",value:function t(){var e=this;var t=function i(t){Object.defineProperty(e,"fieldData",{value:Object.freeze(t),writable:false,enumerable:true,configurable:true})};Promise.all([s.OverlayManager.open(this.overlayName),this._dataAvailableCapability.promise]).then(function(){if(e.fieldData){e._updateUI();return}e.pdfDocument.getMetadata().then(function(i){var n=i.info,a=i.metadata;t({fileName:(0,r.getPDFFileNameFromURL)(e.url),fileSize:e._parseFileSize(e.maybeFileSize),title:n.Title,author:n.Author,subject:n.Subject,keywords:n.Keywords,creationDate:e._parseDate(n.CreationDate),modificationDate:e._parseDate(n.ModDate),creator:n.Creator,producer:n.Producer,version:n.PDFFormatVersion,pageCount:e.pdfDocument.numPages});e._updateUI();return e.pdfDocument.getDownloadInfo()}).then(function(i){var n=i.length;var a=(0,r.cloneObj)(e.fieldData);a["fileSize"]=e._parseFileSize(n);t(a);e._updateUI()})})}},{key:"close",value:function i(){s.OverlayManager.close(this.overlayName)}},{key:"setDocument",value:function l(e,t){if(this.pdfDocument){this._reset();this._updateUI(true)}if(!e){return}this.pdfDocument=e;this.url=t;this._dataAvailableCapability.resolve()}},{key:"setFileSize",value:function c(e){if(typeof e==="number"&&e>0){this.maybeFileSize=e}}},{key:"_reset",value:function d(){this.pdfDocument=null;this.url=null;this.maybeFileSize=0;delete this.fieldData;this._dataAvailableCapability=(0,a.createPromiseCapability)()}},{key:"_updateUI",value:function h(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(e||!this.fieldData){for(var t in this.fields){this.fields[t].textContent=u}return}if(s.OverlayManager.active!==this.overlayName){return}for(var i in this.fields){var n=this.fieldData[i];this.fields[i].textContent=n||n===0?n:u}}},{key:"_parseFileSize",value:function f(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var t=e/1024;if(!t){return}else if(t<1024){return r.mozL10n.get("document_properties_kb",{size_kb:(+t.toPrecision(3)).toLocaleString(),size_b:e.toLocaleString()},"{{size_kb}} KB ({{size_b}} bytes)")}return r.mozL10n.get("document_properties_mb",{size_mb:(+(t/1024).toPrecision(3)).toLocaleString(),size_b:e.toLocaleString()},"{{size_mb}} MB ({{size_b}} bytes)")}},{key:"_parseDate",value:function v(e){if(!e){return}var t=e;if(t.substring(0,2)==="D:"){t=t.substring(2)}var i=parseInt(t.substring(0,4),10);var n=parseInt(t.substring(4,6),10)-1;var a=parseInt(t.substring(6,8),10);var s=parseInt(t.substring(8,10),10);var o=parseInt(t.substring(10,12),10);var u=parseInt(t.substring(12,14),10);var l=t.substring(14,15);var c=parseInt(t.substring(15,17),10);var d=parseInt(t.substring(18,20),10);if(l==="-"){s+=c;o+=d}else if(l==="+"){s-=c;o-=d}var h=new Date(Date.UTC(i,n,a,s,o,u));var f=h.toLocaleDateString();var v=h.toLocaleTimeString();return r.mozL10n.get("document_properties_date_string",{date:f,time:v},"{{date}}, {{time}}")}}]);return e}();t.PDFDocumentProperties=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFFindBar=undefined;var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var r=i(7);var a=i(0);function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=function(){function e(t){var i=this;s(this,e);this.opened=false;this.bar=t.bar||null;this.toggleButton=t.toggleButton||null;this.findField=t.findField||null;this.highlightAll=t.highlightAllCheckbox||null;this.caseSensitive=t.caseSensitiveCheckbox||null;this.findMsg=t.findMsg||null;this.findResultsCount=t.findResultsCount||null;this.findStatusIcon=t.findStatusIcon||null;this.findPreviousButton=t.findPreviousButton||null;this.findNextButton=t.findNextButton||null;this.findController=t.findController||null;this.eventBus=t.eventBus;if(this.findController===null){throw new Error("PDFFindBar cannot be used without a "+"PDFFindController instance.")}this.toggleButton.addEventListener("click",function(){i.toggle()});this.findField.addEventListener("input",function(){i.dispatchEvent("")});this.bar.addEventListener("keydown",function(e){switch(e.keyCode){case 13:if(e.target===i.findField){i.dispatchEvent("again",e.shiftKey)}break;case 27:i.close();break}});this.findPreviousButton.addEventListener("click",function(){i.dispatchEvent("again",true)});this.findNextButton.addEventListener("click",function(){i.dispatchEvent("again",false)});this.highlightAll.addEventListener("click",function(){i.dispatchEvent("highlightallchange")});this.caseSensitive.addEventListener("click",function(){i.dispatchEvent("casesensitivitychange")});this.eventBus.on("resize",this._adjustWidth.bind(this))}n(e,[{key:"reset",value:function t(){this.updateUIState()}},{key:"dispatchEvent",value:function i(e,t){this.eventBus.dispatch("find",{source:this,type:e,query:this.findField.value,caseSensitive:this.caseSensitive.checked,phraseSearch:true,highlightAll:this.highlightAll.checked,findPrevious:t})}},{key:"updateUIState",value:function o(e,t,i){var n=false;var s="";var o="";switch(e){case r.FindStates.FIND_FOUND:break;case r.FindStates.FIND_PENDING:o="pending";break;case r.FindStates.FIND_NOTFOUND:s=a.mozL10n.get("find_not_found",null,"Phrase not found");n=true;break;case r.FindStates.FIND_WRAPPED:if(t){s=a.mozL10n.get("find_reached_top",null,"Reached top of document, continued from bottom")}else{s=a.mozL10n.get("find_reached_bottom",null,"Reached end of document, continued from top")}break}if(n){this.findField.classList.add("notFound")}else{this.findField.classList.remove("notFound")}this.findField.setAttribute("data-status",o);this.findMsg.textContent=s;this.updateResultsCount(i);this._adjustWidth()}},{key:"updateResultsCount",value:function u(e){if(!this.findResultsCount){return}if(!e){this.findResultsCount.classList.add("hidden");return}this.findResultsCount.textContent=e.toLocaleString();this.findResultsCount.classList.remove("hidden")}},{key:"open",value:function l(){if(!this.opened){this.opened=true;this.toggleButton.classList.add("toggled");this.bar.classList.remove("hidden")}this.findField.select();this.findField.focus();this._adjustWidth()}},{key:"close",value:function c(){if(!this.opened){return}this.opened=false;this.toggleButton.classList.remove("toggled");this.bar.classList.add("hidden");this.findController.active=false}},{key:"toggle",value:function d(){if(this.opened){this.close()}else{this.open()}}},{key:"_adjustWidth",value:function h(){if(!this.opened){return}this.bar.classList.remove("wrapContainers");var e=this.bar.clientHeight;var t=this.bar.firstElementChild.clientHeight;if(e>t){this.bar.classList.add("wrapContainers")}}}]);return e}();t.PDFFindBar=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFHistory=undefined;var n=i(2);function r(e){this.linkService=e.linkService;this.eventBus=e.eventBus||(0,n.getGlobalEventBus)();this.initialized=false;this.initialDestination=null;this.initialBookmark=null}r.prototype={initialize:function a(e){this.initialized=true;this.reInitialized=false;this.allowHashChange=true;this.historyUnlocked=true;this.isViewerInPresentationMode=false;this.previousHash=window.location.hash.substring(1);this.currentBookmark="";this.currentPage=0;this.updatePreviousBookmark=false;this.previousBookmark="";this.previousPage=0;this.nextHashParam="";this.fingerprint=e;this.currentUid=this.uid=0;this.current={};var t=window.history.state;if(this._isStateObjectDefined(t)){if(t.target.dest){this.initialDestination=t.target.dest}else{this.initialBookmark=t.target.hash}this.currentUid=t.uid;this.uid=t.uid+1;this.current=t.target}else{if(t&&t.fingerprint&&this.fingerprint!==t.fingerprint){this.reInitialized=true}this._pushOrReplaceState({fingerprint:this.fingerprint},true)}var i=this;window.addEventListener("popstate",function s(e){if(!i.historyUnlocked){return}if(e.state){i._goTo(e.state);return}if(i.uid===0){var t=i.previousHash&&i.currentBookmark&&i.previousHash!==i.currentBookmark?{hash:i.currentBookmark,page:i.currentPage}:{page:1};r(t,function(){n()})}else{n()}});function n(){i.previousHash=window.location.hash.slice(1);i._pushToHistory({hash:i.previousHash},false,true);i._updatePreviousBookmark()}function r(e,t){i.historyUnlocked=false;i.allowHashChange=false;window.addEventListener("popstate",n);history.back();function n(){window.removeEventListener("popstate",n);window.addEventListener("popstate",r);i._pushToHistory(e,false,true);history.forward()}function r(){window.removeEventListener("popstate",r);i.allowHashChange=true;i.historyUnlocked=true;t()}}function a(){var e=i._getPreviousParams(null,true);if(e){var t=!i.current.dest&&i.current.hash!==i.previousHash;i._pushToHistory(e,false,t);i._updatePreviousBookmark()}window.removeEventListener("beforeunload",a)}window.addEventListener("beforeunload",a);window.addEventListener("pageshow",function o(e){window.addEventListener("beforeunload",a)});i.eventBus.on("presentationmodechanged",function(e){i.isViewerInPresentationMode=e.active})},clearHistoryState:function s(){this._pushOrReplaceState(null,true)},_isStateObjectDefined:function o(e){return e&&e.uid>=0&&e.fingerprint&&this.fingerprint===e.fingerprint&&e.target&&e.target.hash?true:false},_pushOrReplaceState:function u(e,t){if(t){window.history.replaceState(e,"",document.URL)}else{window.history.pushState(e,"",document.URL)}},get isHashChangeUnlocked(){if(!this.initialized){return true}return this.allowHashChange},_updatePreviousBookmark:function l(){if(this.updatePreviousBookmark&&this.currentBookmark&&this.currentPage){this.previousBookmark=this.currentBookmark;this.previousPage=this.currentPage;this.updatePreviousBookmark=false}},updateCurrentBookmark:function c(e,t){if(this.initialized){this.currentBookmark=e.substring(1);this.currentPage=t|0;this._updatePreviousBookmark()}},updateNextHashParam:function d(e){if(this.initialized){this.nextHashParam=e}},push:function h(e,t){if(!(this.initialized&&this.historyUnlocked)){return}if(e.dest&&!e.hash){e.hash=this.current.hash&&this.current.dest&&this.current.dest===e.dest?this.current.hash:this.linkService.getDestinationHash(e.dest).split("#")[1]}if(e.page){e.page|=0}if(t){var i=window.history.state.target;if(!i){this._pushToHistory(e,false);this.previousHash=window.location.hash.substring(1)}this.updatePreviousBookmark=this.nextHashParam?false:true;if(i){this._updatePreviousBookmark()}return}if(this.nextHashParam){if(this.nextHashParam===e.hash){this.nextHashParam=null;this.updatePreviousBookmark=true;return}this.nextHashParam=null}if(e.hash){if(this.current.hash){if(this.current.hash!==e.hash){this._pushToHistory(e,true)}else{if(!this.current.page&&e.page){this._pushToHistory(e,false,true)}this.updatePreviousBookmark=true}}else{this._pushToHistory(e,true)}}else if(this.current.page&&e.page&&this.current.page!==e.page){this._pushToHistory(e,true)}},_getPreviousParams:function f(e,t){if(!(this.currentBookmark&&this.currentPage)){return null}else if(this.updatePreviousBookmark){this.updatePreviousBookmark=false}if(this.uid>0&&!(this.previousBookmark&&this.previousPage)){return null}if(!this.current.dest&&!e||t){if(this.previousBookmark===this.currentBookmark){return null}}else if(this.current.page||e){if(this.previousPage===this.currentPage){return null}}else{return null}var i={hash:this.currentBookmark,page:this.currentPage};if(this.isViewerInPresentationMode){i.hash=null}return i},_stateObj:function v(e){return{fingerprint:this.fingerprint,uid:this.uid,target:e}},_pushToHistory:function g(e,t,i){if(!this.initialized){return}if(!e.hash&&e.page){e.hash="page="+e.page}if(t&&!i){var n=this._getPreviousParams();if(n){var r=!this.current.dest&&this.current.hash!==this.previousHash;this._pushToHistory(n,false,r)}}this._pushOrReplaceState(this._stateObj(e),i||this.uid===0);this.currentUid=this.uid++;this.current=e;this.updatePreviousBookmark=true},_goTo:function p(e){if(!(this.initialized&&this.historyUnlocked&&this._isStateObjectDefined(e))){return}if(!this.reInitialized&&e.uid<this.currentUid){var t=this._getPreviousParams(true);if(t){this._pushToHistory(this.current,false);this._pushToHistory(t,false);this.currentUid=e.uid;window.history.back();return}}this.historyUnlocked=false;if(e.target.dest){this.linkService.navigateTo(e.target.dest)}else{this.linkService.setHash(e.target.hash)}this.currentUid=e.uid;if(e.uid>this.uid){this.uid=e.uid}this.current=e.target;this.updatePreviousBookmark=true;var i=window.location.hash.substring(1);if(this.previousHash!==i){this.allowHashChange=false}this.previousHash=i;this.historyUnlocked=true},back:function m(){this.go(-1)},forward:function w(){this.go(1)},go:function b(e){if(this.initialized&&this.historyUnlocked){var t=window.history.state;if(e===-1&&t&&t.uid>0){window.history.back()}else if(e===1&&t&&t.uid<this.uid-1){window.history.forward()}}}};t.PDFHistory=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFOutlineViewer=undefined;var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var r=i(1);function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var s="";var o=function(){function e(t){a(this,e);this.outline=null;this.lastToggleIsShow=true;this.container=t.container;this.linkService=t.linkService;this.eventBus=t.eventBus}n(e,[{key:"reset",value:function t(){this.outline=null;this.lastToggleIsShow=true;this.container.textContent="";this.container.classList.remove("outlineWithDeepNesting")}},{key:"_dispatchEvent",value:function i(e){this.eventBus.dispatch("outlineloaded",{source:this,outlineCount:e})}},{key:"_bindLink",value:function o(e,t){var i=this;if(t.url){(0,r.addLinkAttributes)(e,{url:t.url,target:t.newWindow?r.PDFJS.LinkTarget.BLANK:undefined});return}var n=t.dest;e.href=this.linkService.getDestinationHash(n);e.onclick=function(){if(n){i.linkService.navigateTo(n)}return false}}},{key:"_setStyles",value:function u(e,t){var i="";if(t.bold){i+="font-weight: bold;"}if(t.italic){i+="font-style: italic;"}if(i){e.setAttribute("style",i)}}},{key:"_addToggleButton",value:function l(e){var t=this;var i=document.createElement("div");i.className="outlineItemToggler";i.onclick=function(n){n.stopPropagation();i.classList.toggle("outlineItemsHidden");if(n.shiftKey){var r=!i.classList.contains("outlineItemsHidden");t._toggleOutlineItem(e,r)}};e.insertBefore(i,e.firstChild)}},{key:"_toggleOutlineItem",value:function c(e,t){this.lastToggleIsShow=t;var i=e.querySelectorAll(".outlineItemToggler");for(var n=0,r=i.length;n<r;++n){i[n].classList[t?"remove":"add"]("outlineItemsHidden")}}},{key:"toggleOutlineTree",value:function d(){if(!this.outline){return}this._toggleOutlineItem(this.container,!this.lastToggleIsShow)}},{key:"render",value:function h(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=e.outline||null;var i=0;if(this.outline){this.reset()}this.outline=t;if(!t){this._dispatchEvent(i);return}var n=document.createDocumentFragment();var a=[{parent:n,items:this.outline}];var o=false;while(a.length>0){var u=a.shift();for(var l=0,c=u.items.length;l<c;l++){var d=u.items[l];var h=document.createElement("div");h.className="outlineItem";var f=document.createElement("a");this._bindLink(f,d);this._setStyles(f,d);f.textContent=(0,r.removeNullCharacters)(d.title)||s;h.appendChild(f);if(d.items.length>0){o=true;this._addToggleButton(h);var v=document.createElement("div");v.className="outlineItems";h.appendChild(v);a.push({parent:v,items:d.items})}u.parent.appendChild(h);i++}}if(o){this.container.classList.add("outlineWithDeepNesting")}this.container.appendChild(n);this._dispatchEvent(i)}}]);return e}();t.PDFOutlineViewer=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFPageView=undefined;var n=i(0);var r=i(1);var a=i(2);var s=i(3);var o=200;var u=function l(){function e(e){var t=e.container;var i=e.id;var r=e.scale;var o=e.defaultViewport;var u=e.renderingQueue;var l=e.textLayerFactory;var c=e.annotationLayerFactory;var d=e.enhanceTextSelection||false;var h=e.renderInteractiveForms||false;this.id=i;this.renderingId="page"+i;this.pageLabel=null;this.rotation=0;this.scale=r||n.DEFAULT_SCALE;this.viewport=o;this.pdfPageRotate=o.rotation;this.hasRestrictedScaling=false;this.enhanceTextSelection=d;this.renderInteractiveForms=h;this.eventBus=e.eventBus||(0,a.getGlobalEventBus)();this.renderingQueue=u;this.textLayerFactory=l;this.annotationLayerFactory=c;this.renderer=e.renderer||n.RendererType.CANVAS;this.paintTask=null;this.paintedViewportMap=new WeakMap;this.renderingState=s.RenderingStates.INITIAL;this.resume=null;this.error=null;this.onBeforeDraw=null;this.onAfterDraw=null;this.textLayer=null;this.zoomLayer=null;this.annotationLayer=null;var f=document.createElement("div");f.className="page";f.style.width=Math.floor(this.viewport.width)+"px";f.style.height=Math.floor(this.viewport.height)+"px";f.setAttribute("data-page-number",this.id);this.div=f;t.appendChild(f)}e.prototype={setPdfPage:function t(e){this.pdfPage=e;this.pdfPageRotate=e.rotate;var t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport(this.scale*n.CSS_UNITS,t);this.stats=e.stats;this.reset()},destroy:function i(){this.reset();if(this.pdfPage){this.pdfPage.cleanup()}},
_resetZoomLayer:function u(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!this.zoomLayer){return}var t=this.zoomLayer.firstChild;this.paintedViewportMap.delete(t);t.width=0;t.height=0;if(e){this.zoomLayer.remove()}this.zoomLayer=null},reset:function l(e,t){this.cancelRendering();var i=this.div;i.style.width=Math.floor(this.viewport.width)+"px";i.style.height=Math.floor(this.viewport.height)+"px";var n=i.childNodes;var r=e&&this.zoomLayer||null;var a=t&&this.annotationLayer&&this.annotationLayer.div||null;for(var s=n.length-1;s>=0;s--){var o=n[s];if(r===o||a===o){continue}i.removeChild(o)}i.removeAttribute("data-loaded");if(a){this.annotationLayer.hide()}else{this.annotationLayer=null}if(!r){if(this.canvas){this.paintedViewportMap.delete(this.canvas);this.canvas.width=0;this.canvas.height=0;delete this.canvas}this._resetZoomLayer()}if(this.svg){this.paintedViewportMap.delete(this.svg);delete this.svg}this.loadingIconDiv=document.createElement("div");this.loadingIconDiv.className="loadingIcon";i.appendChild(this.loadingIconDiv)},update:function c(e,t){this.scale=e||this.scale;if(typeof t!=="undefined"){this.rotation=t}var i=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:this.scale*n.CSS_UNITS,rotation:i});if(this.svg){this.cssTransform(this.svg,true);this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:true});return}var a=false;if(this.canvas&&r.PDFJS.maxCanvasPixels>0){var s=this.outputScale;if((Math.floor(this.viewport.width)*s.sx|0)*(Math.floor(this.viewport.height)*s.sy|0)>r.PDFJS.maxCanvasPixels){a=true}}if(this.canvas){if(r.PDFJS.useOnlyCssZoom||this.hasRestrictedScaling&&a){this.cssTransform(this.canvas,true);this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:true});return}if(!this.zoomLayer){this.zoomLayer=this.canvas.parentNode;this.zoomLayer.style.position="absolute"}}if(this.zoomLayer){this.cssTransform(this.zoomLayer.firstChild)}this.reset(true,true)},cancelRendering:function d(){if(this.paintTask){this.paintTask.cancel();this.paintTask=null}this.renderingState=s.RenderingStates.INITIAL;this.resume=null;if(this.textLayer){this.textLayer.cancel();this.textLayer=null}},updatePosition:function h(){if(this.textLayer){this.textLayer.render(o)}},cssTransform:function f(e,t){var i=this.viewport.width;var n=this.viewport.height;var a=this.div;e.style.width=e.parentNode.style.width=a.style.width=Math.floor(i)+"px";e.style.height=e.parentNode.style.height=a.style.height=Math.floor(n)+"px";var s=this.viewport.rotation-this.paintedViewportMap.get(e).rotation;var o=Math.abs(s);var u=1,l=1;if(o===90||o===270){u=n/i;l=i/n}var c="rotate("+s+"deg) "+"scale("+u+","+l+")";r.CustomStyle.setProp("transform",e,c);if(this.textLayer){var d=this.textLayer.viewport;var h=this.viewport.rotation-d.rotation;var f=Math.abs(h);var v=i/d.width;if(f===90||f===270){v=i/d.height}var g=this.textLayer.textLayerDiv;var p,m;switch(f){case 0:p=m=0;break;case 90:p=0;m="-"+g.style.height;break;case 180:p="-"+g.style.width;m="-"+g.style.height;break;case 270:p="-"+g.style.width;m=0;break;default:console.error("Bad rotation value.");break}r.CustomStyle.setProp("transform",g,"rotate("+f+"deg) "+"scale("+v+", "+v+") "+"translate("+p+", "+m+")");r.CustomStyle.setProp("transformOrigin",g,"0% 0%")}if(t&&this.annotationLayer){this.annotationLayer.render(this.viewport,"display")}},get width(){return this.viewport.width},get height(){return this.viewport.height},getPagePoint:function v(e,t){return this.viewport.convertToPdfPoint(e,t)},draw:function g(){if(this.renderingState!==s.RenderingStates.INITIAL){console.error("Must be in new state before drawing");this.reset()}this.renderingState=s.RenderingStates.RUNNING;var e=this;var t=this.pdfPage;var i=this.div;var a=document.createElement("div");a.style.width=i.style.width;a.style.height=i.style.height;a.classList.add("canvasWrapper");if(this.annotationLayer&&this.annotationLayer.div){i.insertBefore(a,this.annotationLayer.div)}else{i.appendChild(a)}var u=null;var l=null;if(this.textLayerFactory){u=document.createElement("div");u.className="textLayer";u.style.width=a.style.width;u.style.height=a.style.height;if(this.annotationLayer&&this.annotationLayer.div){i.insertBefore(u,this.annotationLayer.div)}else{i.appendChild(u)}l=this.textLayerFactory.createTextLayerBuilder(u,this.id-1,this.viewport,this.enhanceTextSelection)}this.textLayer=l;var c=null;if(this.renderingQueue){c=function v(t){if(!e.renderingQueue.isHighestPriority(e)){e.renderingState=s.RenderingStates.PAUSED;e.resume=function i(){e.renderingState=s.RenderingStates.RUNNING;t()};return}t()}}var d=function g(n){if(h===e.paintTask){e.paintTask=null}if(n==="cancelled"||n instanceof r.RenderingCancelledException){e.error=null;return Promise.resolve(undefined)}e.renderingState=s.RenderingStates.FINISHED;if(e.loadingIconDiv){i.removeChild(e.loadingIconDiv);delete e.loadingIconDiv}e._resetZoomLayer(true);e.error=n;e.stats=t.stats;if(e.onAfterDraw){e.onAfterDraw()}e.eventBus.dispatch("pagerendered",{source:e,pageNumber:e.id,cssTransform:false});if(n){return Promise.reject(n)}return Promise.resolve(undefined)};var h=this.renderer===n.RendererType.SVG?this.paintOnSvg(a):this.paintOnCanvas(a);h.onRenderContinue=c;this.paintTask=h;var f=h.promise.then(function(){return d(null).then(function(){if(l){t.getTextContent({normalizeWhitespace:true}).then(function e(t){l.setTextContent(t);l.render(o)})}})},function(e){return d(e)});if(this.annotationLayerFactory){if(!this.annotationLayer){this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(i,t,this.renderInteractiveForms)}this.annotationLayer.render(this.viewport,"display")}i.setAttribute("data-loaded",true);if(this.onBeforeDraw){this.onBeforeDraw()}return f},paintOnCanvas:function p(e){var t=(0,r.createPromiseCapability)();var i={promise:t.promise,onRenderContinue:function b(e){e()},cancel:function y(){w.cancel()}};var a=this.viewport;var s=document.createElement("canvas");s.id="page"+this.id;s.setAttribute("hidden","hidden");var o=true;var u=function P(){if(o){s.removeAttribute("hidden");o=false}};e.appendChild(s);this.canvas=s;s.mozOpaque=true;var l=s.getContext("2d",{alpha:false});var c=(0,n.getOutputScale)(l);this.outputScale=c;if(r.PDFJS.useOnlyCssZoom){var d=a.clone({scale:n.CSS_UNITS});c.sx*=d.width/a.width;c.sy*=d.height/a.height;c.scaled=true}if(r.PDFJS.maxCanvasPixels>0){var h=a.width*a.height;var f=Math.sqrt(r.PDFJS.maxCanvasPixels/h);if(c.sx>f||c.sy>f){c.sx=f;c.sy=f;c.scaled=true;this.hasRestrictedScaling=true}else{this.hasRestrictedScaling=false}}var v=(0,n.approximateFraction)(c.sx);var g=(0,n.approximateFraction)(c.sy);s.width=(0,n.roundToDivide)(a.width*c.sx,v[0]);s.height=(0,n.roundToDivide)(a.height*c.sy,g[0]);s.style.width=(0,n.roundToDivide)(a.width,v[1])+"px";s.style.height=(0,n.roundToDivide)(a.height,g[1])+"px";this.paintedViewportMap.set(s,a);var p=!c.scaled?null:[c.sx,0,0,c.sy,0,0];var m={canvasContext:l,transform:p,viewport:this.viewport,renderInteractiveForms:this.renderInteractiveForms};var w=this.pdfPage.render(m);w.onContinue=function(e){u();if(i.onRenderContinue){i.onRenderContinue(e)}else{e()}};w.promise.then(function S(){u();t.resolve(undefined)},function L(e){u();t.reject(e)});return i},paintOnSvg:function m(e){var t=false;var i=function c(){if(t){if(r.PDFJS.pdfjsNext){throw new r.RenderingCancelledException("Rendering cancelled, page "+a.id,"svg")}else{throw"cancelled"}}};var a=this;var o=this.pdfPage;var u=this.viewport.clone({scale:n.CSS_UNITS});var l=o.getOperatorList().then(function(t){i();var n=new r.SVGGraphics(o.commonObjs,o.objs);return n.getSVG(t,u).then(function(t){i();a.svg=t;a.paintedViewportMap.set(t,u);t.style.width=e.style.width;t.style.height=e.style.height;a.renderingState=s.RenderingStates.FINISHED;e.appendChild(t)})});return{promise:l,onRenderContinue:function d(e){e()},cancel:function h(){t=true}}},setPageLabel:function w(e){this.pageLabel=typeof e==="string"?e:null;if(this.pageLabel!==null){this.div.setAttribute("data-page-label",this.pageLabel)}else{this.div.removeAttribute("data-page-label")}}};return e}();t.PDFPageView=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFPresentationMode=undefined;var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var r=i(0);function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var s=1500;var o=3e3;var u="pdfPresentationMode";var l="pdfPresentationModeControls";var c=50;var d=.1;var h=50;var f=Math.PI/6;var v=function(){function e(t){var i=this;a(this,e);this.container=t.container;this.viewer=t.viewer||t.container.firstElementChild;this.pdfViewer=t.pdfViewer;this.eventBus=t.eventBus;var n=t.contextMenuItems||null;this.active=false;this.args=null;this.contextMenuOpen=false;this.mouseScrollTimeStamp=0;this.mouseScrollDelta=0;this.touchSwipeState=null;if(n){n.contextFirstPage.addEventListener("click",function(){i.contextMenuOpen=false;i.eventBus.dispatch("firstpage")});n.contextLastPage.addEventListener("click",function(){i.contextMenuOpen=false;i.eventBus.dispatch("lastpage")});n.contextPageRotateCw.addEventListener("click",function(){i.contextMenuOpen=false;i.eventBus.dispatch("rotatecw")});n.contextPageRotateCcw.addEventListener("click",function(){i.contextMenuOpen=false;i.eventBus.dispatch("rotateccw")})}}n(e,[{key:"request",value:function t(){if(this.switchInProgress||this.active||!this.viewer.hasChildNodes()){return false}this._addFullscreenChangeListeners();this._setSwitchInProgress();this._notifyStateChange();if(this.container.requestFullscreen){this.container.requestFullscreen()}else if(this.container.mozRequestFullScreen){this.container.mozRequestFullScreen()}else if(this.container.webkitRequestFullscreen){this.container.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}else if(this.container.msRequestFullscreen){this.container.msRequestFullscreen()}else{return false}this.args={page:this.pdfViewer.currentPageNumber,previousScale:this.pdfViewer.currentScaleValue};return true}},{key:"_mouseWheel",value:function i(e){if(!this.active){return}e.preventDefault();var t=(0,r.normalizeWheelEventDelta)(e);var i=(new Date).getTime();var n=this.mouseScrollTimeStamp;if(i>n&&i-n<c){return}if(this.mouseScrollDelta>0&&t<0||this.mouseScrollDelta<0&&t>0){this._resetMouseScrollState()}this.mouseScrollDelta+=t;if(Math.abs(this.mouseScrollDelta)>=d){var a=this.mouseScrollDelta;this._resetMouseScrollState();var s=a>0?this._goToPreviousPage():this._goToNextPage();if(s){this.mouseScrollTimeStamp=i}}}},{key:"_goToPreviousPage",value:function v(){var e=this.pdfViewer.currentPageNumber;if(e<=1){return false}this.pdfViewer.currentPageNumber=e-1;return true}},{key:"_goToNextPage",value:function g(){var e=this.pdfViewer.currentPageNumber;if(e>=this.pdfViewer.pagesCount){return false}this.pdfViewer.currentPageNumber=e+1;return true}},{key:"_notifyStateChange",value:function p(){this.eventBus.dispatch("presentationmodechanged",{source:this,active:this.active,switchInProgress:!!this.switchInProgress})}},{key:"_setSwitchInProgress",value:function m(){var e=this;if(this.switchInProgress){clearTimeout(this.switchInProgress)}this.switchInProgress=setTimeout(function(){e._removeFullscreenChangeListeners();delete e.switchInProgress;e._notifyStateChange()},s)}},{key:"_resetSwitchInProgress",value:function w(){if(this.switchInProgress){clearTimeout(this.switchInProgress);delete this.switchInProgress}}},{key:"_enter",value:function b(){var e=this;this.active=true;this._resetSwitchInProgress();this._notifyStateChange();this.container.classList.add(u);setTimeout(function(){e.pdfViewer.currentPageNumber=e.args.page;e.pdfViewer.currentScaleValue="page-fit"},0);this._addWindowListeners();this._showControls();this.contextMenuOpen=false;this.container.setAttribute("contextmenu","viewerContextMenu");window.getSelection().removeAllRanges()}},{key:"_exit",value:function y(){var e=this;var t=this.pdfViewer.currentPageNumber;this.container.classList.remove(u);setTimeout(function(){e.active=false;e._removeFullscreenChangeListeners();e._notifyStateChange();e.pdfViewer.currentScaleValue=e.args.previousScale;e.pdfViewer.currentPageNumber=t;e.args=null},0);this._removeWindowListeners();this._hideControls();this._resetMouseScrollState();this.container.removeAttribute("contextmenu");this.contextMenuOpen=false}},{key:"_mouseDown",value:function P(e){if(this.contextMenuOpen){this.contextMenuOpen=false;e.preventDefault();return}if(e.button===0){var t=e.target.href&&e.target.classList.contains("internalLink");if(!t){e.preventDefault();this.pdfViewer.currentPageNumber+=e.shiftKey?-1:1}}}},{key:"_contextMenu",value:function S(){this.contextMenuOpen=true}},{key:"_showControls",value:function L(){var e=this;if(this.controlsTimeout){clearTimeout(this.controlsTimeout)}else{this.container.classList.add(l)}this.controlsTimeout=setTimeout(function(){e.container.classList.remove(l);delete e.controlsTimeout},o)}},{key:"_hideControls",value:function _(){if(!this.controlsTimeout){return}clearTimeout(this.controlsTimeout);this.container.classList.remove(l);delete this.controlsTimeout}},{key:"_resetMouseScrollState",value:function C(){this.mouseScrollTimeStamp=0;this.mouseScrollDelta=0}},{key:"_touchSwipe",value:function k(e){if(!this.active){return}if(e.touches.length>1){this.touchSwipeState=null;return}switch(e.type){case"touchstart":this.touchSwipeState={startX:e.touches[0].pageX,startY:e.touches[0].pageY,endX:e.touches[0].pageX,endY:e.touches[0].pageY};break;case"touchmove":if(this.touchSwipeState===null){return}this.touchSwipeState.endX=e.touches[0].pageX;this.touchSwipeState.endY=e.touches[0].pageY;e.preventDefault();break;case"touchend":if(this.touchSwipeState===null){return}var t=0;var i=this.touchSwipeState.endX-this.touchSwipeState.startX;var n=this.touchSwipeState.endY-this.touchSwipeState.startY;var r=Math.abs(Math.atan2(n,i));if(Math.abs(i)>h&&(r<=f||r>=Math.PI-f)){t=i}else if(Math.abs(n)>h&&Math.abs(r-Math.PI/2)<=f){t=n}if(t>0){this._goToPreviousPage()}else if(t<0){this._goToNextPage()}break}}},{key:"_addWindowListeners",value:function I(){this.showControlsBind=this._showControls.bind(this);this.mouseDownBind=this._mouseDown.bind(this);this.mouseWheelBind=this._mouseWheel.bind(this);this.resetMouseScrollStateBind=this._resetMouseScrollState.bind(this);this.contextMenuBind=this._contextMenu.bind(this);this.touchSwipeBind=this._touchSwipe.bind(this);window.addEventListener("mousemove",this.showControlsBind);window.addEventListener("mousedown",this.mouseDownBind);window.addEventListener("wheel",this.mouseWheelBind);window.addEventListener("keydown",this.resetMouseScrollStateBind);window.addEventListener("contextmenu",this.contextMenuBind);window.addEventListener("touchstart",this.touchSwipeBind);window.addEventListener("touchmove",this.touchSwipeBind);window.addEventListener("touchend",this.touchSwipeBind)}},{key:"_removeWindowListeners",value:function E(){window.removeEventListener("mousemove",this.showControlsBind);window.removeEventListener("mousedown",this.mouseDownBind);window.removeEventListener("wheel",this.mouseWheelBind);window.removeEventListener("keydown",this.resetMouseScrollStateBind);window.removeEventListener("contextmenu",this.contextMenuBind);window.removeEventListener("touchstart",this.touchSwipeBind);window.removeEventListener("touchmove",this.touchSwipeBind);window.removeEventListener("touchend",this.touchSwipeBind);delete this.showControlsBind;delete this.mouseDownBind;delete this.mouseWheelBind;delete this.resetMouseScrollStateBind;delete this.contextMenuBind;delete this.touchSwipeBind}},{key:"_fullscreenChange",value:function T(){if(this.isFullscreen){this._enter()}else{this._exit()}}},{key:"_addFullscreenChangeListeners",value:function B(){this.fullscreenChangeBind=this._fullscreenChange.bind(this);window.addEventListener("fullscreenchange",this.fullscreenChangeBind);window.addEventListener("mozfullscreenchange",this.fullscreenChangeBind);window.addEventListener("webkitfullscreenchange",this.fullscreenChangeBind);window.addEventListener("MSFullscreenChange",this.fullscreenChangeBind)}},{key:"_removeFullscreenChangeListeners",value:function F(){window.removeEventListener("fullscreenchange",this.fullscreenChangeBind);window.removeEventListener("mozfullscreenchange",this.fullscreenChangeBind);window.removeEventListener("webkitfullscreenchange",this.fullscreenChangeBind);window.removeEventListener("MSFullscreenChange",this.fullscreenChangeBind);delete this.fullscreenChangeBind}},{key:"isFullscreen",get:function D(){return!!(document.fullscreenElement||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement)}}]);return e}();t.PDFPresentationMode=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFSidebar=t.SidebarView=undefined;var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var r=i(0);var a=i(3);function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o="pdfSidebarNotification";var u={NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3};var l=function(){function e(t){s(this,e);this.isOpen=false;this.active=u.THUMBS;this.isInitialViewSet=false;this.onToggled=null;this.pdfViewer=t.pdfViewer;this.pdfThumbnailViewer=t.pdfThumbnailViewer;this.pdfOutlineViewer=t.pdfOutlineViewer;this.mainContainer=t.mainContainer;this.outerContainer=t.outerContainer;this.eventBus=t.eventBus;this.toggleButton=t.toggleButton;this.thumbnailButton=t.thumbnailButton;this.outlineButton=t.outlineButton;this.attachmentsButton=t.attachmentsButton;this.thumbnailView=t.thumbnailView;this.outlineView=t.outlineView;this.attachmentsView=t.attachmentsView;this.disableNotification=t.disableNotification||false;this._addEventListeners()}n(e,[{key:"reset",value:function t(){this.isInitialViewSet=false;this._hideUINotification(null);this.switchView(u.THUMBS);this.outlineButton.disabled=false;this.attachmentsButton.disabled=false}},{key:"setInitialView",value:function i(e){if(this.isInitialViewSet){return}this.isInitialViewSet=true;if(this.isOpen&&e===u.NONE){this._dispatchEvent();return}var t=e===this.visibleView;this.switchView(e,true);if(t){this._dispatchEvent()}}},{key:"switchView",value:function l(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(e===u.NONE){this.close();return}var i=e!==this.active;var n=false;switch(e){case u.THUMBS:this.thumbnailButton.classList.add("toggled");this.outlineButton.classList.remove("toggled");this.attachmentsButton.classList.remove("toggled");this.thumbnailView.classList.remove("hidden");this.outlineView.classList.add("hidden");this.attachmentsView.classList.add("hidden");if(this.isOpen&&i){this._updateThumbnailViewer();n=true}break;case u.OUTLINE:if(this.outlineButton.disabled){return}this.thumbnailButton.classList.remove("toggled");this.outlineButton.classList.add("toggled");this.attachmentsButton.classList.remove("toggled");this.thumbnailView.classList.add("hidden");this.outlineView.classList.remove("hidden");this.attachmentsView.classList.add("hidden");break;case u.ATTACHMENTS:if(this.attachmentsButton.disabled){return}this.thumbnailButton.classList.remove("toggled");this.outlineButton.classList.remove("toggled");this.attachmentsButton.classList.add("toggled");this.thumbnailView.classList.add("hidden");this.outlineView.classList.add("hidden");this.attachmentsView.classList.remove("hidden");break;default:console.error('PDFSidebar_switchView: "'+e+'" is an unsupported value.');return}this.active=e|0;if(t&&!this.isOpen){this.open();return}if(n){this._forceRendering()}if(i){this._dispatchEvent()}this._hideUINotification(this.active)}},{key:"open",value:function c(){if(this.isOpen){return}this.isOpen=true;this.toggleButton.classList.add("toggled");this.outerContainer.classList.add("sidebarMoving");this.outerContainer.classList.add("sidebarOpen");if(this.active===u.THUMBS){this._updateThumbnailViewer()}this._forceRendering();this._dispatchEvent();this._hideUINotification(this.active)}},{key:"close",value:function d(){if(!this.isOpen){return}this.isOpen=false;this.toggleButton.classList.remove("toggled");this.outerContainer.classList.add("sidebarMoving");this.outerContainer.classList.remove("sidebarOpen");this._forceRendering();this._dispatchEvent()}},{key:"toggle",value:function h(){if(this.isOpen){this.close()}else{this.open()}}},{key:"_dispatchEvent",value:function f(){this.eventBus.dispatch("sidebarviewchanged",{source:this,view:this.visibleView})}},{key:"_forceRendering",value:function v(){if(this.onToggled){this.onToggled()}else{this.pdfViewer.forceRendering();this.pdfThumbnailViewer.forceRendering()}}},{key:"_updateThumbnailViewer",value:function g(){var e=this.pdfViewer;var t=this.pdfThumbnailViewer;var i=e.pagesCount;for(var n=0;n<i;n++){var r=e.getPageView(n);if(r&&r.renderingState===a.RenderingStates.FINISHED){var s=t.getThumbnail(n);s.setImage(r)}}t.scrollThumbnailIntoView(e.currentPageNumber)}},{key:"_showUINotification",value:function p(e){if(this.disableNotification){return}this.toggleButton.title=r.mozL10n.get("toggle_sidebar_notification.title",null,"Toggle Sidebar (document contains outline/attachments)");if(!this.isOpen){this.toggleButton.classList.add(o)}else if(e===this.active){return}switch(e){case u.OUTLINE:this.outlineButton.classList.add(o);break;case u.ATTACHMENTS:this.attachmentsButton.classList.add(o);break}}},{key:"_hideUINotification",value:function m(e){var t=this;if(this.disableNotification){return}var i=function n(e){switch(e){case u.OUTLINE:t.outlineButton.classList.remove(o);break;case u.ATTACHMENTS:t.attachmentsButton.classList.remove(o);break}};if(!this.isOpen&&e!==null){return}this.toggleButton.classList.remove(o);if(e!==null){i(e);return}for(e in u){i(u[e])}this.toggleButton.title=r.mozL10n.get("toggle_sidebar.title",null,"Toggle Sidebar")}},{key:"_addEventListeners",value:function w(){var e=this;this.mainContainer.addEventListener("transitionend",function(t){if(t.target===e.mainContainer){e.outerContainer.classList.remove("sidebarMoving")}});this.thumbnailButton.addEventListener("click",function(){e.switchView(u.THUMBS)});this.outlineButton.addEventListener("click",function(){e.switchView(u.OUTLINE)});this.outlineButton.addEventListener("dblclick",function(){e.pdfOutlineViewer.toggleOutlineTree()});this.attachmentsButton.addEventListener("click",function(){e.switchView(u.ATTACHMENTS)});this.eventBus.on("outlineloaded",function(t){var i=t.outlineCount;e.outlineButton.disabled=!i;if(i){e._showUINotification(u.OUTLINE)}else if(e.active===u.OUTLINE){e.switchView(u.THUMBS)}});this.eventBus.on("attachmentsloaded",function(t){var i=t.attachmentsCount;e.attachmentsButton.disabled=!i;if(i){e._showUINotification(u.ATTACHMENTS)}else if(e.active===u.ATTACHMENTS){e.switchView(u.THUMBS)}});this.eventBus.on("presentationmodechanged",function(t){if(!t.active&&!t.switchInProgress&&e.isThumbnailViewVisible){e._updateThumbnailViewer()}})}},{key:"visibleView",get:function b(){return this.isOpen?this.active:u.NONE}},{key:"isThumbnailViewVisible",get:function y(){return this.isOpen&&this.active===u.THUMBS}},{key:"isOutlineViewVisible",get:function P(){return this.isOpen&&this.active===u.OUTLINE}},{key:"isAttachmentsViewVisible",get:function S(){return this.isOpen&&this.active===u.ATTACHMENTS}}]);return e}();t.SidebarView=u;t.PDFSidebar=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFThumbnailView=undefined;var n=i(1);var r=i(0);var a=i(3);var s=98;var o=1;var u=function l(){function e(e,i){var n=t.tempImageCache;if(!n){n=document.createElement("canvas");t.tempImageCache=n}n.width=e;n.height=i;n.mozOpaque=true;var r=n.getContext("2d",{alpha:false});r.save();r.fillStyle="rgb(255, 255, 255)";r.fillRect(0,0,e,i);r.restore();return n}function t(e){var t=e.container;var i=e.id;var n=e.defaultViewport;var u=e.linkService;var l=e.renderingQueue;var c=e.disableCanvasToImageConversion||false;this.id=i;this.renderingId="thumbnail"+i;this.pageLabel=null;this.pdfPage=null;this.rotation=0;this.viewport=n;this.pdfPageRotate=n.rotation;this.linkService=u;this.renderingQueue=l;this.renderTask=null;this.renderingState=a.RenderingStates.INITIAL;this.resume=null;this.disableCanvasToImageConversion=c;this.pageWidth=this.viewport.width;this.pageHeight=this.viewport.height;this.pageRatio=this.pageWidth/this.pageHeight;this.canvasWidth=s;this.canvasHeight=this.canvasWidth/this.pageRatio|0;this.scale=this.canvasWidth/this.pageWidth;var d=document.createElement("a");d.href=u.getAnchorUrl("#page="+i);d.title=r.mozL10n.get("thumb_page_title",{page:i},"Page {{page}}");d.onclick=function g(){u.page=i;return false};this.anchor=d;var h=document.createElement("div");h.className="thumbnail";h.setAttribute("data-page-number",this.id);this.div=h;if(i===1){h.classList.add("selected")}var f=document.createElement("div");f.className="thumbnailSelectionRing";var v=2*o;f.style.width=this.canvasWidth+v+"px";f.style.height=this.canvasHeight+v+"px";this.ring=f;h.appendChild(f);d.appendChild(h);t.appendChild(d)}t.prototype={setPdfPage:function i(e){this.pdfPage=e;this.pdfPageRotate=e.rotate;var t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport(1,t);this.reset()},reset:function u(){this.cancelRendering();this.pageWidth=this.viewport.width;this.pageHeight=this.viewport.height;this.pageRatio=this.pageWidth/this.pageHeight;this.canvasHeight=this.canvasWidth/this.pageRatio|0;this.scale=this.canvasWidth/this.pageWidth;this.div.removeAttribute("data-loaded");var e=this.ring;var t=e.childNodes;for(var i=t.length-1;i>=0;i--){e.removeChild(t[i])}var n=2*o;e.style.width=this.canvasWidth+n+"px";e.style.height=this.canvasHeight+n+"px";if(this.canvas){this.canvas.width=0;this.canvas.height=0;delete this.canvas}if(this.image){this.image.removeAttribute("src");delete this.image}},update:function l(e){if(typeof e!=="undefined"){this.rotation=e}var t=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:1,rotation:t});this.reset()},cancelRendering:function c(){if(this.renderTask){this.renderTask.cancel();this.renderTask=null}this.renderingState=a.RenderingStates.INITIAL;this.resume=null},_getPageDrawContext:function d(e){var t=document.createElement("canvas");this.canvas=t;t.mozOpaque=true;var i=t.getContext("2d",{alpha:false});var n=(0,r.getOutputScale)(i);t.width=this.canvasWidth*n.sx|0;t.height=this.canvasHeight*n.sy|0;t.style.width=this.canvasWidth+"px";t.style.height=this.canvasHeight+"px";if(!e&&n.scaled){i.scale(n.sx,n.sy)}return i},_convertCanvasToImage:function h(){if(!this.canvas){return}if(this.renderingState!==a.RenderingStates.FINISHED){return}var e=this.renderingId;var t="thumbnailImage";var i=r.mozL10n.get("thumb_page_canvas",{page:this.pageId},"Thumbnail of Page {{page}}");if(this.disableCanvasToImageConversion){this.canvas.id=e;this.canvas.className=t;this.canvas.setAttribute("aria-label",i);this.div.setAttribute("data-loaded",true);this.ring.appendChild(this.canvas);return}var n=document.createElement("img");n.id=e;n.className=t;n.setAttribute("aria-label",i);n.style.width=this.canvasWidth+"px";n.style.height=this.canvasHeight+"px";n.src=this.canvas.toDataURL();this.image=n;this.div.setAttribute("data-loaded",true);this.ring.appendChild(n);this.canvas.width=0;this.canvas.height=0;delete this.canvas},draw:function f(){if(this.renderingState!==a.RenderingStates.INITIAL){console.error("Must be in new state before drawing");return Promise.resolve(undefined)}this.renderingState=a.RenderingStates.RUNNING;var e=(0,n.createPromiseCapability)();var t=this;function i(i){if(l===t.renderTask){t.renderTask=null}if(i==="cancelled"||i instanceof n.RenderingCancelledException){e.resolve(undefined);return}t.renderingState=a.RenderingStates.FINISHED;t._convertCanvasToImage();if(!i){e.resolve(undefined)}else{e.reject(i)}}var r=this._getPageDrawContext();var s=this.viewport.clone({scale:this.scale});var o=function c(e){if(!t.renderingQueue.isHighestPriority(t)){t.renderingState=a.RenderingStates.PAUSED;t.resume=function i(){t.renderingState=a.RenderingStates.RUNNING;e()};return}e()};var u={canvasContext:r,viewport:s};var l=this.renderTask=this.pdfPage.render(u);l.onContinue=o;l.promise.then(function d(){i(null)},function h(e){i(e)});return e.promise},setImage:function v(t){if(this.renderingState!==a.RenderingStates.INITIAL){return}var i=t.canvas;if(!i){return}if(!this.pdfPage){this.setPdfPage(t.pdfPage)}this.renderingState=a.RenderingStates.FINISHED;var n=this._getPageDrawContext(true);var r=n.canvas;if(i.width<=2*r.width){n.drawImage(i,0,0,i.width,i.height,0,0,r.width,r.height);this._convertCanvasToImage();return}var s=3;var o=r.width<<s;var u=r.height<<s;var l=e(o,u);var c=l.getContext("2d");while(o>i.width||u>i.height){o>>=1;u>>=1}c.drawImage(i,0,0,i.width,i.height,0,0,o,u);while(o>2*r.width){c.drawImage(l,0,0,o,u,0,0,o>>1,u>>1);o>>=1;u>>=1}n.drawImage(l,0,0,o,u,0,0,r.width,r.height);this._convertCanvasToImage()},get pageId(){return this.pageLabel!==null?this.pageLabel:this.id},setPageLabel:function g(e){this.pageLabel=typeof e==="string"?e:null;this.anchor.title=r.mozL10n.get("thumb_page_title",{page:this.pageId},"Page {{page}}");if(this.renderingState!==a.RenderingStates.FINISHED){return}var t=r.mozL10n.get("thumb_page_canvas",{page:this.pageId},"Thumbnail of Page {{page}}");if(this.image){this.image.setAttribute("aria-label",t)}else if(this.disableCanvasToImageConversion&&this.canvas){this.canvas.setAttribute("aria-label",t)}}};return t}();u.tempImageCache=null;t.PDFThumbnailView=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFThumbnailViewer=undefined;var n=i(0);var r=i(23);var a=-19;var s=function o(){function e(e){this.container=e.container;this.renderingQueue=e.renderingQueue;this.linkService=e.linkService;this.scroll=(0,n.watchScroll)(this.container,this._scrollUpdated.bind(this));this._resetView()}e.prototype={_scrollUpdated:function t(){this.renderingQueue.renderHighestPriority()},getThumbnail:function i(e){return this.thumbnails[e]},_getVisibleThumbs:function s(){return(0,n.getVisibleElements)(this.container,this.thumbnails)},scrollThumbnailIntoView:function o(e){var t=document.querySelector(".thumbnail.selected");if(t){t.classList.remove("selected")}var i=document.querySelector('div.thumbnail[data-page-number="'+e+'"]');if(i){i.classList.add("selected")}var r=this._getVisibleThumbs();var s=r.views.length;if(s>0){var o=r.first.id;var u=s>1?r.last.id:o;if(e<=o||e>=u){(0,n.scrollIntoView)(i,{top:a})}}},get pagesRotation(){return this._pagesRotation},set pagesRotation(e){this._pagesRotation=e;for(var t=0,i=this.thumbnails.length;t<i;t++){var n=this.thumbnails[t];n.update(e)}},cleanup:function u(){var e=r.PDFThumbnailView.tempImageCache;if(e){e.width=0;e.height=0}r.PDFThumbnailView.tempImageCache=null},_resetView:function l(){this.thumbnails=[];this._pageLabels=null;this._pagesRotation=0;this._pagesRequests=[];this.container.textContent=""},setDocument:function c(e){var t=this;if(this.pdfDocument){this._cancelRendering();this._resetView()}this.pdfDocument=e;if(!e){return Promise.resolve()}return e.getPage(1).then(function(i){var n=e.numPages;var a=i.getViewport(1);for(var s=1;s<=n;++s){var o=new r.PDFThumbnailView({container:t.container,id:s,defaultViewport:a.clone(),linkService:t.linkService,renderingQueue:t.renderingQueue,disableCanvasToImageConversion:false});t.thumbnails.push(o)}})},_cancelRendering:function d(){for(var e=0,t=this.thumbnails.length;e<t;e++){if(this.thumbnails[e]){this.thumbnails[e].cancelRendering();

}}},setPageLabels:function h(e){if(!this.pdfDocument){return}if(!e){this._pageLabels=null}else if(!(e instanceof Array&&this.pdfDocument.numPages===e.length)){this._pageLabels=null;console.error("PDFThumbnailViewer_setPageLabels: Invalid page labels.")}else{this._pageLabels=e}for(var t=0,i=this.thumbnails.length;t<i;t++){var n=this.thumbnails[t];var r=this._pageLabels&&this._pageLabels[t];n.setPageLabel(r)}},_ensurePdfPageLoaded:function f(e){var t=this;if(e.pdfPage){return Promise.resolve(e.pdfPage)}var i=e.id;if(this._pagesRequests[i]){return this._pagesRequests[i]}var n=this.pdfDocument.getPage(i).then(function(n){e.setPdfPage(n);t._pagesRequests[i]=null;return n});this._pagesRequests[i]=n;return n},forceRendering:function v(){var e=this;var t=this._getVisibleThumbs();var i=this.renderingQueue.getHighestPriority(t,this.thumbnails,this.scroll.down);if(i){this._ensurePdfPageLoaded(i).then(function(){e.renderingQueue.renderView(i)});return true}return false}};return e}();t.PDFThumbnailViewer=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFViewer=t.PresentationModeState=undefined;var n=i(1);var r=i(0);var a=i(3);var s=i(10);var o=i(2);var u=i(20);var l=i(6);var c=i(28);var d={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};var h=10;var f=function v(){function e(e){var t=[];this.push=function i(n){var r=t.indexOf(n);if(r>=0){t.splice(r,1)}t.push(n);if(t.length>e){t.shift().destroy()}};this.resize=function(i){e=i;while(t.length>e){t.shift().destroy()}}}function t(e,t){if(t===e){return true}if(Math.abs(t-e)<1e-15){return true}return false}function i(e){return e.width<=e.height}function f(e){this.container=e.container;this.viewer=e.viewer||e.container.firstElementChild;this.eventBus=e.eventBus||(0,o.getGlobalEventBus)();this.linkService=e.linkService||new l.SimpleLinkService;this.downloadManager=e.downloadManager||null;this.removePageBorders=e.removePageBorders||false;this.enhanceTextSelection=e.enhanceTextSelection||false;this.renderInteractiveForms=e.renderInteractiveForms||false;this.enablePrintAutoRotate=e.enablePrintAutoRotate||false;this.renderer=e.renderer||r.RendererType.CANVAS;this.defaultRenderingQueue=!e.renderingQueue;if(this.defaultRenderingQueue){this.renderingQueue=new a.PDFRenderingQueue;this.renderingQueue.setViewer(this)}else{this.renderingQueue=e.renderingQueue}this.scroll=(0,r.watchScroll)(this.container,this._scrollUpdate.bind(this));this.presentationModeState=d.UNKNOWN;this._resetView();if(this.removePageBorders){this.viewer.classList.add("removePageBorders")}}f.prototype={get pagesCount(){return this._pages.length},getPageView:function v(e){return this._pages[e]},get pageViewsReady(){return this._pageViewsReady},get currentPageNumber(){return this._currentPageNumber},set currentPageNumber(e){if((e|0)!==e){throw new Error("Invalid page number.")}if(!this.pdfDocument){this._currentPageNumber=e;return}this._setCurrentPageNumber(e,true)},_setCurrentPageNumber:function g(e,t){if(this._currentPageNumber===e){if(t){this._resetCurrentPageView()}return}if(!(0<e&&e<=this.pagesCount)){return}var i={source:this,pageNumber:e,pageLabel:this._pageLabels&&this._pageLabels[e-1]};this._currentPageNumber=e;this.eventBus.dispatch("pagechanging",i);this.eventBus.dispatch("pagechange",i);if(t){this._resetCurrentPageView()}},get currentPageLabel(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set currentPageLabel(e){var t=e|0;if(this._pageLabels){var i=this._pageLabels.indexOf(e);if(i>=0){t=i+1}}this.currentPageNumber=t},get currentScale(){return this._currentScale!==r.UNKNOWN_SCALE?this._currentScale:r.DEFAULT_SCALE},set currentScale(e){if(isNaN(e)){throw new Error("Invalid numeric scale")}if(!this.pdfDocument){this._currentScale=e;this._currentScaleValue=e!==r.UNKNOWN_SCALE?e.toString():null;return}this._setScale(e,false)},get currentScaleValue(){return this._currentScaleValue},set currentScaleValue(e){if(!this.pdfDocument){this._currentScale=isNaN(e)?r.UNKNOWN_SCALE:e;this._currentScaleValue=e.toString();return}this._setScale(e,false)},get pagesRotation(){return this._pagesRotation},set pagesRotation(e){if(!(typeof e==="number"&&e%90===0)){throw new Error("Invalid pages rotation angle.")}this._pagesRotation=e;if(!this.pdfDocument){return}for(var t=0,i=this._pages.length;t<i;t++){var n=this._pages[t];n.update(n.scale,e)}this._setScale(this._currentScaleValue,true);if(this.defaultRenderingQueue){this.update()}},setDocument:function p(e){var t=this;if(this.pdfDocument){this._cancelRendering();this._resetView()}this.pdfDocument=e;if(!e){return}var i=e.numPages;var a=(0,n.createPromiseCapability)();this.pagesPromise=a.promise;a.promise.then(function(){t._pageViewsReady=true;t.eventBus.dispatch("pagesloaded",{source:t,pagesCount:i})});var s=false;var o=(0,n.createPromiseCapability)();this.onePageRendered=o.promise;var l=function d(e){e.onBeforeDraw=function(){t._buffer.push(e)};e.onAfterDraw=function(){if(!s){s=true;o.resolve()}}};var c=e.getPage(1);this.firstPagePromise=c;return c.then(function(s){var c=t.currentScale;var d=s.getViewport(c*r.CSS_UNITS);for(var h=1;h<=i;++h){var f=null;if(!n.PDFJS.disableTextLayer){f=t}var v=new u.PDFPageView({container:t.viewer,eventBus:t.eventBus,id:h,scale:c,defaultViewport:d.clone(),renderingQueue:t.renderingQueue,textLayerFactory:f,annotationLayerFactory:t,enhanceTextSelection:t.enhanceTextSelection,renderInteractiveForms:t.renderInteractiveForms,renderer:t.renderer});l(v);t._pages.push(v)}o.promise.then(function(){if(n.PDFJS.disableAutoFetch){a.resolve();return}var r=i;var s=function u(i){e.getPage(i).then(function(e){var n=t._pages[i-1];if(!n.pdfPage){n.setPdfPage(e)}t.linkService.cachePageRef(i,e.ref);if(--r===0){a.resolve()}})};for(var o=1;o<=i;++o){s(o)}});t.eventBus.dispatch("pagesinit",{source:t});if(t.defaultRenderingQueue){t.update()}if(t.findController){t.findController.resolveFirstPage()}})},setPageLabels:function m(e){if(!this.pdfDocument){return}if(!e){this._pageLabels=null}else if(!(e instanceof Array&&this.pdfDocument.numPages===e.length)){this._pageLabels=null;console.error("PDFViewer_setPageLabels: Invalid page labels.")}else{this._pageLabels=e}for(var t=0,i=this._pages.length;t<i;t++){var n=this._pages[t];var r=this._pageLabels&&this._pageLabels[t];n.setPageLabel(r)}},_resetView:function w(){this._pages=[];this._currentPageNumber=1;this._currentScale=r.UNKNOWN_SCALE;this._currentScaleValue=null;this._pageLabels=null;this._buffer=new e(h);this._location=null;this._pagesRotation=0;this._pagesRequests=[];this._pageViewsReady=false;this.viewer.textContent=""},_scrollUpdate:function b(){if(this.pagesCount===0){return}this.update();for(var e=0,t=this._pages.length;e<t;e++){this._pages[e].updatePosition()}},_setScaleDispatchEvent:function y(e,t,i){var n={source:this,scale:e,presetValue:i?t:undefined};this.eventBus.dispatch("scalechanging",n);this.eventBus.dispatch("scalechange",n)},_setScaleUpdatePages:function P(e,i,r,a){this._currentScaleValue=i.toString();if(t(this._currentScale,e)){if(a){this._setScaleDispatchEvent(e,i,true)}return}for(var s=0,o=this._pages.length;s<o;s++){this._pages[s].update(e)}this._currentScale=e;if(!r){var u=this._currentPageNumber,l;if(this._location&&!n.PDFJS.ignoreCurrentPositionOnZoom&&!(this.isInPresentationMode||this.isChangingPresentationMode)){u=this._location.pageNumber;l=[null,{name:"XYZ"},this._location.left,this._location.top,null]}this.scrollPageIntoView({pageNumber:u,destArray:l,allowNegativeOffset:true})}this._setScaleDispatchEvent(e,i,a);if(this.defaultRenderingQueue){this.update()}},_setScale:function S(e,t){var i=parseFloat(e);if(i>0){this._setScaleUpdatePages(i,e,t,false)}else{var n=this._pages[this._currentPageNumber-1];if(!n){return}var a=this.isInPresentationMode||this.removePageBorders?0:r.SCROLLBAR_PADDING;var s=this.isInPresentationMode||this.removePageBorders?0:r.VERTICAL_PADDING;var o=(this.container.clientWidth-a)/n.width*n.scale;var u=(this.container.clientHeight-s)/n.height*n.scale;switch(e){case"page-actual":i=1;break;case"page-width":i=o;break;case"page-height":i=u;break;case"page-fit":i=Math.min(o,u);break;case"auto":var l=n.width>n.height;var c=l?Math.min(u,o):o;i=Math.min(r.MAX_AUTO_SCALE,c);break;default:console.error('PDFViewer_setScale: "'+e+'" is an unknown zoom value.');return}this._setScaleUpdatePages(i,e,t,true)}},_resetCurrentPageView:function L(){if(this.isInPresentationMode){this._setScale(this._currentScaleValue,true)}var e=this._pages[this._currentPageNumber-1];(0,r.scrollIntoView)(e.div)},scrollPageIntoView:function _(e){if(!this.pdfDocument){return}if(arguments.length>1||typeof e==="number"){console.warn("Call of scrollPageIntoView() with obsolete signature.");var t={};if(typeof e==="number"){t.pageNumber=e}if(arguments[1]instanceof Array){t.destArray=arguments[1]}e=t}var i=e.pageNumber||0;var n=e.destArray||null;var a=e.allowNegativeOffset||false;if(this.isInPresentationMode||!n){this._setCurrentPageNumber(i,true);return}var s=this._pages[i-1];if(!s){console.error("PDFViewer_scrollPageIntoView: "+'Invalid "pageNumber" parameter.');return}var o=0,u=0;var l=0,c=0,d,h;var f=s.rotation%180===0?false:true;var v=(f?s.height:s.width)/s.scale/r.CSS_UNITS;var g=(f?s.width:s.height)/s.scale/r.CSS_UNITS;var p=0;switch(n[1].name){case"XYZ":o=n[2];u=n[3];p=n[4];o=o!==null?o:0;u=u!==null?u:g;break;case"Fit":case"FitB":p="page-fit";break;case"FitH":case"FitBH":u=n[2];p="page-width";if(u===null&&this._location){o=this._location.left;u=this._location.top}break;case"FitV":case"FitBV":o=n[2];l=v;c=g;p="page-height";break;case"FitR":o=n[2];u=n[3];l=n[4]-o;c=n[5]-u;var m=this.removePageBorders?0:r.SCROLLBAR_PADDING;var w=this.removePageBorders?0:r.VERTICAL_PADDING;d=(this.container.clientWidth-m)/l/r.CSS_UNITS;h=(this.container.clientHeight-w)/c/r.CSS_UNITS;p=Math.min(Math.abs(d),Math.abs(h));break;default:console.error("PDFViewer_scrollPageIntoView: '"+n[1].name+"' is not a valid destination type.");return}if(p&&p!==this._currentScale){this.currentScaleValue=p}else if(this._currentScale===r.UNKNOWN_SCALE){this.currentScaleValue=r.DEFAULT_SCALE_VALUE}if(p==="page-fit"&&!n[4]){(0,r.scrollIntoView)(s.div);return}var b=[s.viewport.convertToViewportPoint(o,u),s.viewport.convertToViewportPoint(o+l,u+c)];var y=Math.min(b[0][0],b[1][0]);var P=Math.min(b[0][1],b[1][1]);if(!a){y=Math.max(y,0);P=Math.max(P,0)}(0,r.scrollIntoView)(s.div,{left:y,top:P})},_updateLocation:function C(e){var t=this._currentScale;var i=this._currentScaleValue;var n=parseFloat(i)===t?Math.round(t*1e4)/100:i;var r=e.id;var a="#page="+r;a+="&zoom="+n;var s=this._pages[r-1];var o=this.container;var u=s.getPagePoint(o.scrollLeft-e.x,o.scrollTop-e.y);var l=Math.round(u[0]);var c=Math.round(u[1]);a+=","+l+","+c;this._location={pageNumber:r,scale:n,top:c,left:l,pdfOpenParams:a}},update:function k(){var e=this._getVisiblePages();var t=e.views;if(t.length===0){return}var i=Math.max(h,2*t.length+1);this._buffer.resize(i);this.renderingQueue.renderHighestPriority(e);var n=this._currentPageNumber;var r=e.first;for(var a=0,s=t.length,o=false;a<s;++a){var u=t[a];if(u.percent<100){break}if(u.id===n){o=true;break}}if(!o){n=t[0].id}if(!this.isInPresentationMode){this._setCurrentPageNumber(n)}this._updateLocation(r);this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})},containsElement:function I(e){return this.container.contains(e)},focus:function E(){this.container.focus()},get isInPresentationMode(){return this.presentationModeState===d.FULLSCREEN},get isChangingPresentationMode(){return this.presentationModeState===d.CHANGING},get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?false:this.container.scrollWidth>this.container.clientWidth},_getVisiblePages:function T(){if(!this.isInPresentationMode){return(0,r.getVisibleElements)(this.container,this._pages,true)}var e=[];var t=this._pages[this._currentPageNumber-1];e.push({id:t.id,view:t});return{first:t,last:t,views:e}},cleanup:function B(){for(var e=0,t=this._pages.length;e<t;e++){if(this._pages[e]&&this._pages[e].renderingState!==a.RenderingStates.FINISHED){this._pages[e].reset()}}},_cancelRendering:function F(){for(var e=0,t=this._pages.length;e<t;e++){if(this._pages[e]){this._pages[e].cancelRendering()}}},_ensurePdfPageLoaded:function D(e){var t=this;if(e.pdfPage){return Promise.resolve(e.pdfPage)}var i=e.id;if(this._pagesRequests[i]){return this._pagesRequests[i]}var n=this.pdfDocument.getPage(i).then(function(n){if(!e.pdfPage){e.setPdfPage(n)}t._pagesRequests[i]=null;return n});this._pagesRequests[i]=n;return n},forceRendering:function x(e){var t=this;var i=e||this._getVisiblePages();var n=this.renderingQueue.getHighestPriority(i,this._pages,this.scroll.down);if(n){this._ensurePdfPageLoaded(n).then(function(){t.renderingQueue.renderView(n)});return true}return false},getPageTextContent:function V(e){return this.pdfDocument.getPage(e+1).then(function(e){return e.getTextContent({normalizeWhitespace:true})})},createTextLayerBuilder:function N(e,t,i){var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;return new c.TextLayerBuilder({textLayerDiv:e,eventBus:this.eventBus,pageIndex:t,viewport:i,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:this.isInPresentationMode?false:n})},createAnnotationLayerBuilder:function O(e,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return new s.AnnotationLayerBuilder({pageDiv:e,pdfPage:t,renderInteractiveForms:i,linkService:this.linkService,downloadManager:this.downloadManager})},setFindController:function M(e){this.findController=e},getPagesOverview:function A(){var e=this._pages.map(function(e){var t=e.pdfPage.getViewport(1);return{width:t.width,height:t.height,rotation:t.rotation}});if(!this.enablePrintAutoRotate){return e}var t=i(e[0]);return e.map(function(e){if(t===i(e)){return e}return{width:e.height,height:e.width,rotation:(e.rotation+90)%360}})}};return f}();t.PresentationModeState=d;t.PDFViewer=f},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.BasePreferences=undefined;var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var a=i(0);function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=null;function u(){if(!o){o=Promise.resolve({showPreviousViewOnLoad:true,defaultZoomValue:"",sidebarViewOnLoad:0,enableHandToolOnLoad:false,enableWebGL:false,pdfBugEnabled:false,disableRange:false,disableStream:false,disableAutoFetch:false,disableFontFace:false,disableTextLayer:false,useOnlyCssZoom:false,externalLinkTarget:0,enhanceTextSelection:false,renderer:"canvas",renderInteractiveForms:false,enablePrintAutoRotate:false,disablePageLabels:false})}return o}var l=function(){function e(){var t=this;s(this,e);if(this.constructor===e){throw new Error("Cannot initialize BasePreferences.")}this.prefs=null;this._initializedPromise=u().then(function(e){Object.defineProperty(t,"defaults",{value:Object.freeze(e),writable:false,enumerable:true,configurable:false});t.prefs=(0,a.cloneObj)(e);return t._readFromStorage(e)}).then(function(e){if(e){t.prefs=e}})}r(e,[{key:"_writeToStorage",value:function t(e){return Promise.reject(new Error("Not implemented: _writeToStorage"))}},{key:"_readFromStorage",value:function i(e){return Promise.reject(new Error("Not implemented: _readFromStorage"))}},{key:"reset",value:function o(){var e=this;return this._initializedPromise.then(function(){e.prefs=(0,a.cloneObj)(e.defaults);return e._writeToStorage(e.defaults)})}},{key:"reload",value:function l(){var e=this;return this._initializedPromise.then(function(){return e._readFromStorage(e.defaults)}).then(function(t){if(t){e.prefs=t}})}},{key:"set",value:function c(e,t){var i=this;return this._initializedPromise.then(function(){if(i.defaults[e]===undefined){throw new Error('Set preference: "'+e+'" is undefined.')}else if(t===undefined){throw new Error("Set preference: no value is specified.")}var r=typeof t==="undefined"?"undefined":n(t);var a=n(i.defaults[e]);if(r!==a){if(r==="number"&&a==="string"){t=t.toString()}else{throw new Error('Set preference: "'+t+'" is a '+r+", "+("expected a "+a+"."))}}else{if(r==="number"&&(t|0)!==t){throw new Error('Set preference: "'+t+'" must be an integer.')}}i.prefs[e]=t;return i._writeToStorage(i.prefs)})}},{key:"get",value:function d(e){var t=this;return this._initializedPromise.then(function(){var i=t.defaults[e];if(i===undefined){throw new Error('Get preference: "'+e+'" is undefined.')}else{var n=t.prefs[e];if(n!==undefined){return n}}return i})}}]);return e}();t.BasePreferences=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SecondaryToolbar=undefined;var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var r=i(0);function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var s=function(){function e(t,i,n){a(this,e);this.toolbar=t.toolbar;this.toggleButton=t.toggleButton;this.toolbarButtonContainer=t.toolbarButtonContainer;this.buttons=[{element:t.presentationModeButton,eventName:"presentationmode",close:true},{element:t.openFileButton,eventName:"openfile",close:true},{element:t.printButton,eventName:"print",close:true},{element:t.downloadButton,eventName:"download",close:true},{element:t.viewBookmarkButton,eventName:null,close:true},{element:t.firstPageButton,eventName:"firstpage",close:true},{element:t.lastPageButton,eventName:"lastpage",close:true},{element:t.pageRotateCwButton,eventName:"rotatecw",close:false},{element:t.pageRotateCcwButton,eventName:"rotateccw",close:false},{element:t.toggleHandToolButton,eventName:"togglehandtool",close:true},{element:t.documentPropertiesButton,eventName:"documentproperties",close:true}];this.items={firstPage:t.firstPageButton,lastPage:t.lastPageButton,pageRotateCw:t.pageRotateCwButton,pageRotateCcw:t.pageRotateCcwButton};this.mainContainer=i;this.eventBus=n;this.opened=false;this.containerHeight=null;this.previousContainerHeight=null;this.reset();this._bindClickListeners();this._bindHandToolListener(t.toggleHandToolButton);this.eventBus.on("resize",this._setMaxHeight.bind(this))}n(e,[{key:"setPageNumber",value:function t(e){this.pageNumber=e;this._updateUIState()}},{key:"setPagesCount",value:function i(e){this.pagesCount=e;this._updateUIState()}},{key:"reset",value:function s(){this.pageNumber=0;this.pagesCount=0;this._updateUIState()}},{key:"_updateUIState",value:function o(){this.items.firstPage.disabled=this.pageNumber<=1;this.items.lastPage.disabled=this.pageNumber>=this.pagesCount;this.items.pageRotateCw.disabled=this.pagesCount===0;this.items.pageRotateCcw.disabled=this.pagesCount===0}},{key:"_bindClickListeners",value:function u(){var e=this;this.toggleButton.addEventListener("click",this.toggle.bind(this));var t=function n(t){var i=e.buttons[t],n=i.element,r=i.eventName,a=i.close;n.addEventListener("click",function(t){if(r!==null){e.eventBus.dispatch(r,{source:e})}if(a){e.close()}})};for(var i in this.buttons){t(i)}}},{key:"_bindHandToolListener",value:function l(e){var t=false;this.eventBus.on("handtoolchanged",function(i){if(t===i.isActive){return}t=i.isActive;if(t){e.title=r.mozL10n.get("hand_tool_disable.title",null,"Disable hand tool");e.firstElementChild.textContent=r.mozL10n.get("hand_tool_disable_label",null,"Disable hand tool")}else{e.title=r.mozL10n.get("hand_tool_enable.title",null,"Enable hand tool");e.firstElementChild.textContent=r.mozL10n.get("hand_tool_enable_label",null,"Enable hand tool")}})}},{key:"open",value:function c(){if(this.opened){return}this.opened=true;this._setMaxHeight();this.toggleButton.classList.add("toggled");this.toolbar.classList.remove("hidden")}},{key:"close",value:function d(){if(!this.opened){return}this.opened=false;this.toolbar.classList.add("hidden");this.toggleButton.classList.remove("toggled")}},{key:"toggle",value:function h(){if(this.opened){this.close()}else{this.open()}}},{key:"_setMaxHeight",value:function f(){if(!this.opened){return}this.containerHeight=this.mainContainer.clientHeight;if(this.containerHeight===this.previousContainerHeight){return}this.toolbarButtonContainer.setAttribute("style","max-height: "+(this.containerHeight-r.SCROLLBAR_PADDING)+"px;");this.previousContainerHeight=this.containerHeight}},{key:"isOpen",get:function v(){return this.opened}}]);return e}();t.SecondaryToolbar=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DefaultTextLayerFactory=t.TextLayerBuilder=undefined;var n=i(2);var r=i(1);var a=300;var s=function u(){function e(e){this.textLayerDiv=e.textLayerDiv;this.eventBus=e.eventBus||(0,n.getGlobalEventBus)();this.textContent=null;this.renderingDone=false;this.pageIdx=e.pageIndex;this.pageNumber=this.pageIdx+1;this.matches=[];this.viewport=e.viewport;this.textDivs=[];this.findController=e.findController||null;this.textLayerRenderTask=null;this.enhanceTextSelection=e.enhanceTextSelection;this._bindMouse()}e.prototype={_finishRendering:function t(){this.renderingDone=true;if(!this.enhanceTextSelection){var e=document.createElement("div");e.className="endOfContent";this.textLayerDiv.appendChild(e)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})},render:function i(e){var t=this;if(!this.textContent||this.renderingDone){return}this.cancel();this.textDivs=[];var i=document.createDocumentFragment();this.textLayerRenderTask=(0,r.renderTextLayer)({textContent:this.textContent,container:i,viewport:this.viewport,textDivs:this.textDivs,timeout:e,enhanceTextSelection:this.enhanceTextSelection});this.textLayerRenderTask.promise.then(function(){t.textLayerDiv.appendChild(i);t._finishRendering();t.updateMatches()},function(e){})},cancel:function s(){if(this.textLayerRenderTask){this.textLayerRenderTask.cancel();this.textLayerRenderTask=null}},setTextContent:function o(e){this.cancel();this.textContent=e},convertMatches:function u(e,t){var i=0;var n=0;var r=this.textContent.items;var a=r.length-1;var s=this.findController===null?0:this.findController.state.query.length;var o=[];if(!e){return o}for(var u=0,l=e.length;u<l;u++){var c=e[u];while(i!==a&&c>=n+r[i].str.length){n+=r[i].str.length;i++}if(i===r.length){console.error("Could not find a matching mapping")}var d={begin:{divIdx:i,offset:c-n}};if(t){c+=t[u]}else{c+=s}while(i!==a&&c>n+r[i].str.length){n+=r[i].str.length;i++}d.end={divIdx:i,offset:c-n};o.push(d)}return o},renderMatches:function l(e){if(e.length===0){return}var t=this.textContent.items;var i=this.textDivs;var n=null;var r=this.pageIdx;var a=this.findController===null?false:r===this.findController.selected.pageIdx;var s=this.findController===null?-1:this.findController.selected.matchIdx;var o=this.findController===null?false:this.findController.state.highlightAll;var u={divIdx:-1,offset:undefined};function l(e,t){var n=e.divIdx;i[n].textContent="";c(n,0,e.offset,t)}function c(e,n,r,a){var s=i[e];var o=t[e].str.substring(n,r);var u=document.createTextNode(o);if(a){var l=document.createElement("span");l.className=a;l.appendChild(u);s.appendChild(l);return}s.appendChild(u)}var d=s,h=d+1;if(o){d=0;h=e.length}else if(!a){return}for(var f=d;f<h;f++){var v=e[f];var g=v.begin;var p=v.end;var m=a&&f===s;var w=m?" selected":"";if(this.findController){this.findController.updateMatchPosition(r,f,i,g.divIdx)}if(!n||g.divIdx!==n.divIdx){if(n!==null){c(n.divIdx,n.offset,u.offset)}l(g)}else{c(n.divIdx,n.offset,g.offset)}if(g.divIdx===p.divIdx){c(g.divIdx,g.offset,p.offset,"highlight"+w)}else{c(g.divIdx,g.offset,u.offset,"highlight begin"+w);for(var b=g.divIdx+1,y=p.divIdx;b<y;b++){i[b].className="highlight middle"+w}l(p,"highlight end"+w)}n=p}if(n){c(n.divIdx,n.offset,u.offset)}},updateMatches:function c(){if(!this.renderingDone){return}var e=this.matches;var t=this.textDivs;var i=this.textContent.items;var n=-1;for(var r=0,a=e.length;r<a;r++){var s=e[r];var o=Math.max(n,s.begin.divIdx);for(var u=o,l=s.end.divIdx;u<=l;u++){var c=t[u];c.textContent=i[u].str;c.className=""}n=s.end.divIdx+1}if(this.findController===null||!this.findController.active){return}var d,h;if(this.findController!==null){d=this.findController.pageMatches[this.pageIdx]||null;h=this.findController.pageMatchesLength?this.findController.pageMatchesLength[this.pageIdx]||null:null}this.matches=this.convertMatches(d,h);this.renderMatches(this.matches)},_bindMouse:function d(){var e=this.textLayerDiv;var t=this;var i=null;e.addEventListener("mousedown",function(n){if(t.enhanceTextSelection&&t.textLayerRenderTask){t.textLayerRenderTask.expandTextDivs(true);if(i){clearTimeout(i);i=null}return}var r=e.querySelector(".endOfContent");if(!r){return}var a=n.target!==e;a=a&&window.getComputedStyle(r).getPropertyValue("-moz-user-select")!=="none";if(a){var s=e.getBoundingClientRect();var o=Math.max(0,(n.pageY-s.top)/s.height);r.style.top=(o*100).toFixed(2)+"%"}r.classList.add("active")});e.addEventListener("mouseup",function(n){if(t.enhanceTextSelection&&t.textLayerRenderTask){i=setTimeout(function(){if(t.textLayerRenderTask){t.textLayerRenderTask.expandTextDivs(false)}i=null},a);return}var r=e.querySelector(".endOfContent");if(!r){return}r.style.top="";r.classList.remove("active")})}};return e}();function o(){}o.prototype={createTextLayerBuilder:function l(e,t,i){var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;return new s({textLayerDiv:e,pageIndex:t,viewport:i,enhanceTextSelection:n})}};t.TextLayerBuilder=s;t.DefaultTextLayerFactory=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Toolbar=undefined;var n=i(0);var r="visiblePageIsLoading";var a=8;var s=22;var o=function u(){function e(e,t,i){this.toolbar=e.container;this.mainContainer=t;this.eventBus=i;this.items=e;this._wasLocalized=false;this.reset();this._bindListeners()}e.prototype={setPageNumber:function t(e,i){this.pageNumber=e;this.pageLabel=i;this._updateUIState(false)},setPagesCount:function i(e,t){this.pagesCount=e;this.hasPageLabels=t;this._updateUIState(true)},setPageScale:function o(e,t){this.pageScaleValue=e;this.pageScale=t;this._updateUIState(false)},reset:function u(){this.pageNumber=0;this.pageLabel=null;this.hasPageLabels=false;this.pagesCount=0;this.pageScaleValue=n.DEFAULT_SCALE_VALUE;this.pageScale=n.DEFAULT_SCALE;this._updateUIState(true)},_bindListeners:function l(){var e=this.eventBus;var t=this;var i=this.items;i.previous.addEventListener("click",function(){e.dispatch("previouspage")});i.next.addEventListener("click",function(){e.dispatch("nextpage")});i.zoomIn.addEventListener("click",function(){e.dispatch("zoomin")});i.zoomOut.addEventListener("click",function(){e.dispatch("zoomout")});i.pageNumber.addEventListener("click",function(){this.select()});i.pageNumber.addEventListener("change",function(){e.dispatch("pagenumberchanged",{source:t,value:this.value})});i.scaleSelect.addEventListener("change",function(){if(this.value==="custom"){return}e.dispatch("scalechanged",{source:t,value:this.value})});i.presentationModeButton.addEventListener("click",function(t){e.dispatch("presentationmode")});i.openFile.addEventListener("click",function(t){e.dispatch("openfile")});i.print.addEventListener("click",function(t){e.dispatch("print")});i.download.addEventListener("click",function(t){e.dispatch("download")});i.scaleSelect.oncontextmenu=n.noContextMenuHandler;n.localized.then(this._localized.bind(this))},_localized:function c(){this._wasLocalized=true;this._adjustScaleWidth();this._updateUIState(true)},_updateUIState:function d(e){function t(e,t){var i=s.scaleSelect.options;var r=false;for(var a=0,o=i.length;a<o;a++){var u=i[a];if(u.value!==e){u.selected=false;continue}u.selected=true;r=true}if(!r){var l=Math.round(t*1e4)/100;s.customScaleOption.textContent=n.mozL10n.get("page_scale_percent",{scale:l},"{{scale}}%");s.customScaleOption.selected=true}}if(!this._wasLocalized){return}var i=this.pageNumber;var r=(this.pageScaleValue||this.pageScale).toString();var a=this.pageScale;var s=this.items;var o=this.pagesCount;if(e){if(this.hasPageLabels){s.pageNumber.type="text"}else{s.pageNumber.type="number";s.numPages.textContent=n.mozL10n.get("of_pages",{pagesCount:o},"of {{pagesCount}}")}s.pageNumber.max=o}if(this.hasPageLabels){s.pageNumber.value=this.pageLabel;s.numPages.textContent=n.mozL10n.get("page_of_pages",{pageNumber:i,pagesCount:o},"({{pageNumber}} of {{pagesCount}})")}else{s.pageNumber.value=i}s.previous.disabled=i<=1;s.next.disabled=i>=o;s.zoomOut.disabled=a<=n.MIN_SCALE;s.zoomIn.disabled=a>=n.MAX_SCALE;t(r,a)},updateLoadingIndicatorState:function h(e){var t=this.items.pageNumber;if(e){t.classList.add(r)}else{t.classList.remove(r)}},_adjustScaleWidth:function f(){var e=this.items.scaleSelectContainer;var t=this.items.scaleSelect;n.animationStarted.then(function(){if(e.clientWidth===0){e.setAttribute("style","display: inherit;")}if(e.clientWidth>0){t.setAttribute("style","min-width: inherit;");var i=t.clientWidth+a;t.setAttribute("style","min-width: "+(i+s)+"px;");e.setAttribute("style","min-width: "+i+"px; "+"max-width: "+i+"px;")}})}};return e}();t.Toolbar=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();function r(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=20;var s=function(){function e(t){var i=this;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:a;r(this,e);this.fingerprint=t;this.cacheSize=n;this._initializedPromise=this._readFromStorage().then(function(e){var t=JSON.parse(e||"{}");if(!("files"in t)){t.files=[]}if(t.files.length>=i.cacheSize){t.files.shift()}var n;for(var r=0,a=t.files.length;r<a;r++){var s=t.files[r];if(s.fingerprint===i.fingerprint){n=r;break}}if(typeof n!=="number"){n=t.files.push({fingerprint:i.fingerprint})-1}i.file=t.files[n];i.database=t})}n(e,[{key:"_writeToStorage",value:function t(){var e=this;return new Promise(function(t){var i=JSON.stringify(e.database);localStorage.setItem("pdfjs.history",i);t()})}},{key:"_readFromStorage",value:function i(){return new Promise(function(e){var t=localStorage.getItem("pdfjs.history");if(!t){var i=localStorage.getItem("database");if(i){try{var n=JSON.parse(i);if(typeof n.files[0].fingerprint==="string"){localStorage.setItem("pdfjs.history",i);localStorage.removeItem("database");t=i}}catch(r){}}}e(t)})}},{key:"set",value:function s(e,t){var i=this;return this._initializedPromise.then(function(){i.file[e]=t;return i._writeToStorage()})}},{key:"setMultiple",value:function o(e){var t=this;return this._initializedPromise.then(function(){for(var i in e){t.file[i]=e[i]}return t._writeToStorage()})}},{key:"get",value:function u(e,t){var i=this;return this._initializedPromise.then(function(){var n=i.file[e];return n!==undefined?n:t})}},{key:"getMultiple",value:function l(e){var t=this;return this._initializedPromise.then(function(){var i=Object.create(null);for(var n in e){var r=t.file[n];i[n]=r!==undefined?r:e[n]}return i})}}]);return e}();t.ViewHistory=s},function(e,t,i){"use strict";var n="about:blank";var r;{r=i(5)}{i(8)}{i(9)}function a(e){return{appContainer:document.body,mainContainer:document.getElementById("viewerContainer"+e),
viewerContainer:document.getElementById("viewer"+e),eventBus:null,toolbar:{container:document.getElementById("toolbarViewer"+e),numPages:document.getElementById("numPages"+e),pageNumber:document.getElementById("pageNumber"+e),scaleSelectContainer:document.getElementById("scaleSelectContainer"+e),scaleSelect:document.getElementById("scaleSelect"+e),customScaleOption:document.getElementById("customScaleOption"+e),previous:document.getElementById("previous"+e),next:document.getElementById("next"+e),zoomIn:document.getElementById("zoomIn"+e),zoomOut:document.getElementById("zoomOut"+e),viewFind:document.getElementById("viewFind"+e),openFile:document.getElementById("openFile"+e),print:document.getElementById("print"+e),presentationModeButton:document.getElementById("presentationMode"+e),download:document.getElementById("download"+e),viewBookmark:document.getElementById("viewBookmark"+e)},secondaryToolbar:{toolbar:document.getElementById("secondaryToolbar"+e),toggleButton:document.getElementById("secondaryToolbarToggle"+e),toolbarButtonContainer:document.getElementById("secondaryToolbarButtonContainer"+e),presentationModeButton:document.getElementById("secondaryPresentationMode"+e),openFileButton:document.getElementById("secondaryOpenFile"+e),printButton:document.getElementById("secondaryPrint"+e),downloadButton:document.getElementById("secondaryDownload"+e),viewBookmarkButton:document.getElementById("secondaryViewBookmark"+e),firstPageButton:document.getElementById("firstPage"+e),lastPageButton:document.getElementById("lastPage"+e),pageRotateCwButton:document.getElementById("pageRotateCw"+e),pageRotateCcwButton:document.getElementById("pageRotateCcw"+e),toggleHandToolButton:document.getElementById("toggleHandTool"+e),documentPropertiesButton:document.getElementById("documentProperties"+e)},fullscreen:{contextFirstPage:document.getElementById("contextFirstPage"+e),contextLastPage:document.getElementById("contextLastPage"+e),contextPageRotateCw:document.getElementById("contextPageRotateCw"+e),contextPageRotateCcw:document.getElementById("contextPageRotateCcw"+e)},sidebar:{mainContainer:document.getElementById("mainContainer"+e),outerContainer:document.getElementById("outerContainer"+e),toggleButton:document.getElementById("sidebarToggle"+e),thumbnailButton:document.getElementById("viewThumbnail"+e),outlineButton:document.getElementById("viewOutline"+e),attachmentsButton:document.getElementById("viewAttachments"+e),thumbnailView:document.getElementById("thumbnailView"+e),outlineView:document.getElementById("outlineView"+e),attachmentsView:document.getElementById("attachmentsView"+e)},findBar:{bar:document.getElementById("findbar"+e),toggleButton:document.getElementById("viewFind"+e),findField:document.getElementById("findInput"+e),highlightAllCheckbox:document.getElementById("findHighlightAll"+e),caseSensitiveCheckbox:document.getElementById("findMatchCase"+e),findMsg:document.getElementById("findMsg"+e),findResultsCount:document.getElementById("findResultsCount"+e),findStatusIcon:document.getElementById("findStatusIcon"+e),findPreviousButton:document.getElementById("findPrevious"+e),findNextButton:document.getElementById("findNext"+e)},passwordOverlay:{overlayName:"passwordOverlay",container:document.getElementById("passwordOverlay"+e),label:document.getElementById("passwordText"+e),input:document.getElementById("password"+e),submitButton:document.getElementById("passwordSubmit"+e),cancelButton:document.getElementById("passwordCancel"+e)},documentProperties:{overlayName:"documentPropertiesOverlay"+e,container:document.getElementById("documentPropertiesOverlay"+e),closeButton:document.getElementById("documentPropertiesClose"+e),fields:{fileName:document.getElementById("fileNameField"+e),fileSize:document.getElementById("fileSizeField"+e),title:document.getElementById("titleField"+e),author:document.getElementById("authorField"+e),subject:document.getElementById("subjectField"+e),keywords:document.getElementById("keywordsField"+e),creationDate:document.getElementById("creationDateField"+e),modificationDate:document.getElementById("modificationDateField"+e),creator:document.getElementById("creatorField"+e),producer:document.getElementById("producerField"+e),version:document.getElementById("versionField"+e),pageCount:document.getElementById("pageCountField"+e)}},errorWrapper:{container:document.getElementById("errorWrapper"+e),errorMessage:document.getElementById("errorMessage"+e),closeButton:document.getElementById("errorClose"+e),errorMoreInfo:document.getElementById("errorMoreInfo"+e),moreInfoButton:document.getElementById("errorShowMore"+e),lessInfoButton:document.getElementById("errorShowLess"+e)},printContainer:document.getElementById("printContainer"+e),openFileInputName:"fileInput",debuggerScriptPath:"./debugger.js",defaultUrl:window.pdfJsFilePath||n}}function s(){var e=window.pdfJsViewerId;var t=a(e);window.PDFViewerApplication=r.PDFViewerApplication;r.PDFViewerApplication.run(t);if(r.PDFViewerApplication.overlayManager){r.PDFViewerApplication.overlayManager.active=null}}if(document.readyState==="interactive"||document.readyState==="complete"){s()}else{document.addEventListener("DOMContentLoaded",s,true)}document.addEventListener("PdfJsChangeSource",s,true)}]);
//# sourceMappingURL=pdf_viewer.map.js