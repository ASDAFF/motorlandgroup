{"version":3,"file":"html-views.min.js","sources":["html-views.js"],"names":["BXEditorView","editor","element","container","this","config","isShown","bbCode","BX","addCustomEvent","proxy","OnClick","prototype","Focus","document","querySelector","ownerDocument","focus","e","Hide","style","display","Show","Disable","setAttribute","Enable","removeAttribute","params","IsShown","BXEditorTextareaView","parent","textareaElement","BXEditorIframeView","superclass","constructor","apply","arguments","name","InitEventHandlers","value","content","SetValue","extend","Clear","GetValue","bParse","IsEmpty","parse","html","bFormat","Parse","dom","pValueInput","SaveValue","inited","HasPlaceholderSet","placeholderText","getAttribute","util","trim","_this","bind","On","isFocused","textareaKeyDownPreventDefault","ctrlKey","metaKey","altKey","keyCode","KEY_CODES","GetViewMode","PreventDefault","IsFocused","ScrollToSelectedText","searchText","SelectText","ind","indexOf","setSelectionRange","length","GetTextSelection","res","selectionStart","undefined","substr","selectionEnd","selection","createRange","text","window","getSelection","toString","WrapWith","tagBegin","tagEnd","postText","bReplaceText","selectedText","mode","currentScroll","scrollTop","start","end","sel","selection_copy","duplicate","replace","setEndPoint","collapse","moveEnd","select","GetCursorPosition","textarea","caretNode","OnCreateIframe","sandbox","GetDocument","body","rangy","init","innerHTML","iframeValue","GetInnerHtml","CheckContentLastChild","ReInit","setToEnd","browser","IsIE","lastChild","nodeName","SetBefore","SetAfter","SetFocusedFlag","GetTextContent","clearInvisibleSpace","txt","elementsWithVisualValue","_initObjectResizing","properties","propertiesLength","commands","exec","allowObjectResizing","supportsEvent","observe","event","target","srcElement","i","property","parseInt","redraw","preventDefault","focusWithoutScrolling","setActive","elementStyle","originalScrollTop","doc","documentElement","originalScrollLeft","scrollLeft","originalStyles","position","top","left","WebkitUserSelect","setStyles","on","win","scrollTo","iframeWindow","GetWindow","_element","IsOpera","_eventsInitedObject","onCustomEvent","setTimeout","shiftKey","getEventButton","MSRIGHT","contMenuRangeCollapsed","range","GetRange","bxTag","GetBxTag","collapsed","synchro","IsSyncOn","StopSync","IsIE10","IsIE11","phpParser","RedrawSurrogates","CheckParentSurrogate","startContainer","endContainer","surr","SetInvisibleTextAfterNode","SetInvisibleTextBeforeNode","action","actions","quote","checkSpaceAfterQuotes","SaveRange","StartSync","IsIOS","input","create","props","type","orScrollTop","orScrollLeft","InsertNode","appendChild","remove","IsFirefox","delegate","OnPasteHandler","GetSelectedNode","OnEnterHandlerKeyUp","OnKeyUpArrowsHandler","IsChrome","nodeType","nextSibling","ExecuteAndRestoreSimple","SetTextContent","parentNode","removeChild","FirstLetterSupported","parser","firstNodeCheck","FirstLetterCheckNodes","CheckImageSelectSupport","SelectNode","CheckPreCursorSupport","selectedNode","FocusPreElement","KeyDown","nodeTitles","IMG","message","SrcTitle","A","UrlTitle","hasAttribute","InitClipboardHandler","iframeKeyDownPreventDefault","command","SHORTCUTS","in_array","firstChild","startOffset","endOffset","_IEBodyClearHandler","_IEBodyClearHandlerEx","isUserTyping","typingTimeout","clearTimeout","Exec","className","next","GetNextNotEmptySibling","Refresh","OnKeyDownArrowsHandler","li","findParent","tag","ul","customBullitClass","insertUnorderedList","getCustomBullitClass","checkCustomBullitList","FirstLetterBackspaceHandler","OnEnterHandler","savedScroll","GetWindowScrollPos","_RestoreScrollTop","removeCustomEvent","p","toLowerCase","newPar","ReplaceWithOwnChildren","IsEmptyNode","minHeight","unwrap","node","n","emptyNode","GetInvisibleTextNode","insertBefore","list","br","blockElement","blockTags","listTags","bullitClass","getElementsByTagName","match","IsSupported","INVISIBLE_SPACE","IsMac","tmpId","Math","round","random","tmpElement","GetIframeElement","checkNode","prev","previousSibling","GetBlockTags","nextNode","prevNode","KC","keyDownRange","IsBlockElement","IsBlockNode","pre","prevToSur","nextToSur","keyDownNode","keyDownPre","isEmpty","isSur","sameLastRange","startCont","endCont","startIsSur","endIsSur","GetStructuralTags","CheckLastRange","CheckSurrogateNode","_MoveCursorAfterNode","setStartBefore","SetSelection","setEndAfter","_MoveCursorBeforeNode","preNode","timeout","_focusPreElementTimeout","skipPasteHandler","pasteNodeIndex","arNodes","curNode","qnodes","markGoodNode","randValue","querySelectorAll","push","childNodes","sync","iframeView","pasteHandlerTimeout","SetCursorNode","pasteHandleMode","bbParseContentMode","lastIframeValue","skipPasteControl","pasteControl","SaveIframeContent","CheckAndShow","FromIframeToTextarea","lastTextareaValue","FromTextareaToIframe","RestoreCursor","InitAutoLinking","nativeAutolinkCanBeDisabled","IsSupportedByBrowser","nativeAutoLink","IsIE9","autoLink","ignorableParents","CODE","PRE","SCRIPT","HEAD","TITLE","STYLE","urlRegExp","emailRegExp","MAX_LENGTH","BRACKETS",")","]","}","autolinkUrlRegExp","autolinkEmailRegExp","autoLinkHandler","checkAutoLink","ExecuteAndRestore","nodeValue","result","GetIframeDoc","walker","createTreeWalker","NodeFilter","SHOW_TEXT","ignorableParent","parseNode","convertUrlToLink","str","htmlspecialchars","url","punctuation","opening","split","realUrl","displayUrl","convertEmailToLink","email","getTmpDiv","tmp","_bx_autolink_temp_div","createElement","tmpDiv","data","autolinkTimeout","links","getTextContent","textContent","link","newTextContent","IsUserTypingNow","IsSurrogate","BXEditorViewsSynchro","textareaView","INTERVAL","lastFocused","bParseHtml","bbCodes","bbParser","Unparse","lastSavedIframeValue","htmlFromBbCode","FullSyncFromIframe","Sync","view","currentViewName","GetSplitMode","delay","interval","OnIframeMousedown","IsFocusedOnTextarea"],"mappings":"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"}